{
  app __x0__ = (Type map)
  if (! (= __x0__ Object)) throw INTRINSIC_TypeError else {}
  if (= map.MapData absent) throw INTRINSIC_TypeError else {}
  app __x1__ = (ObjectCreate INTRINSIC_MapIteratorPrototype (new ["Map", "MapNextIndex", "MapIterationKind"]))
  let iterator = __x1__
  iterator.Map = map
  iterator.MapNextIndex = 0i
  iterator.MapIterationKind = kind
  return iterator
}