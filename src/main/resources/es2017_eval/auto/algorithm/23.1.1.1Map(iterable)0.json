{"kind":"Builtin","params":[],"steps":[{"tokens":["If","NewTarget","is",{"value":"undefined"},",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"map"},"be","?","OrdinaryCreateFromConstructor","(","NewTarget",",",{"code":"\"%MapPrototype%\""},",","«","[","[","MapData","]","]","»",")","."]},{"tokens":["Set",{"id":"map"},".","[","[","MapData","]","]","to","a","new","empty","List","."]},{"tokens":["If",{"id":"iterable"},"is","not","present",",","let",{"id":"iterable"},"be",{"value":"undefined"},"."]},{"tokens":["If",{"id":"iterable"},"is","either",{"value":"undefined"},"or",{"value":"null"},",","let",{"id":"iter"},"be",{"value":"undefined"},"."]},{"tokens":["Else",",",{"steps":[{"tokens":["Let",{"id":"adder"},"be","?","Get","(",{"id":"map"},",",{"code":"\"set\""},")","."]},{"tokens":["If","IsCallable","(",{"id":"adder"},")","is",{"value":"false"},",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"iter"},"be","?","GetIterator","(",{"id":"iterable"},")","."]}]}]},{"tokens":["If",{"id":"iter"},"is",{"value":"undefined"},",","return",{"id":"map"},"."]},{"tokens":["Repeat",",",{"steps":[{"tokens":["Let",{"id":"next"},"be","?","IteratorStep","(",{"id":"iter"},")","."]},{"tokens":["If",{"id":"next"},"is",{"value":"false"},",","return",{"id":"map"},"."]},{"tokens":["Let",{"id":"nextItem"},"be","?","IteratorValue","(",{"id":"next"},")","."]},{"tokens":["If","Type","(",{"id":"nextItem"},")","is","not","Object",",","then",{"steps":[{"tokens":["Let",{"id":"error"},"be","Completion","{","[","[","Type","]","]",":",{"const":"throw"},",","[","[","Value","]","]",":","a","newly","created",{"value":"TypeError"},"object",",","[","[","Target","]","]",":",{"const":"empty"},"}","."]},{"tokens":["Return","?","IteratorClose","(",{"id":"iter"},",",{"id":"error"},")","."]}]}]},{"tokens":["Let",{"id":"k"},"be","Get","(",{"id":"nextItem"},",",{"code":"\"0\""},")","."]},{"tokens":["If",{"id":"k"},"is","an","abrupt","completion",",","return","?","IteratorClose","(",{"id":"iter"},",",{"id":"k"},")","."]},{"tokens":["Let",{"id":"v"},"be","Get","(",{"id":"nextItem"},",",{"code":"\"1\""},")","."]},{"tokens":["If",{"id":"v"},"is","an","abrupt","completion",",","return","?","IteratorClose","(",{"id":"iter"},",",{"id":"v"},")","."]},{"tokens":["Let",{"id":"status"},"be","Call","(",{"id":"adder"},",",{"id":"map"},",","«",{"id":"k"},".","[","[","Value","]","]",",",{"id":"v"},".","[","[","Value","]","]","»",")","."]},{"tokens":["If",{"id":"status"},"is","an","abrupt","completion",",","return","?","IteratorClose","(",{"id":"iter"},",",{"id":"status"},")","."]}]}]}],"length":0,"filename":"es2000/algorithm/23.1.1.1Map(iterable)0.json"}