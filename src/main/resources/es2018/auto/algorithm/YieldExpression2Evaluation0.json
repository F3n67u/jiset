{"kind":"RuntimeSemantics","params":["this","AssignmentExpression"],"steps":[{"tokens":["Let",{"id":"generatorKind"},"be","!","GetGeneratorKind","(",")","."]},{"tokens":["Let",{"id":"exprRef"},"be","the","result","of","evaluating",{"nt":"AssignmentExpression"},"."]},{"tokens":["Let",{"id":"value"},"be","?","GetValue","(",{"id":"exprRef"},")","."]},{"tokens":["Let",{"id":"iteratorRecord"},"be","?","GetIterator","(",{"id":"value"},",",{"id":"generatorKind"},")","."]},{"tokens":["Let",{"id":"iterator"},"be",{"id":"iteratorRecord"},".","[","[","Iterator","]","]","."]},{"tokens":["Let",{"id":"received"},"be","NormalCompletion","(",{"value":"undefined"},")","."]},{"tokens":["Repeat",",",{"steps":[{"tokens":["If",{"id":"received"},".","[","[","Type","]","]","is",{"const":"normal"},",","then",{"steps":[{"tokens":["Let",{"id":"innerResult"},"be","?","Call","(",{"id":"iteratorRecord"},".","[","[","NextMethod","]","]",",",{"id":"iteratorRecord"},".","[","[","Iterator","]","]",",","«",{"id":"received"},".","[","[","Value","]","]","»",")","."]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"innerResult"},"to","?","Await","(",{"id":"innerResult"},")","."]},{"tokens":["If","Type","(",{"id":"innerResult"},")","is","not","Object",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"done"},"be","?","IteratorComplete","(",{"id":"innerResult"},")","."]},{"tokens":["If",{"id":"done"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Return","?","IteratorValue","(",{"id":"innerResult"},")","."]}]}]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"received"},"to","AsyncGeneratorYield","(","?","IteratorValue","(",{"id":"innerResult"},")",")","."]},{"tokens":["Else",",","set",{"id":"received"},"to","GeneratorYield","(",{"id":"innerResult"},")","."]}]}]},{"tokens":["Else","if",{"id":"received"},".","[","[","Type","]","]","is",{"const":"throw"},",","then",{"steps":[{"tokens":["Let",{"id":"throw"},"be","?","GetMethod","(",{"id":"iterator"},",",{"code":"\"throw\""},")","."]},{"tokens":["If",{"id":"throw"},"is","not",{"value":"undefined"},",","then",{"steps":[{"tokens":["Let",{"id":"innerResult"},"be","?","Call","(",{"id":"throw"},",",{"id":"iterator"},",","«",{"id":"received"},".","[","[","Value","]","]","»",")","."]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"innerResult"},"to","?","Await","(",{"id":"innerResult"},")","."]},{"tokens":["NOTE",":","Exceptions","from","the","inner","iterator",{"code":"throw"},"method","are","propagated",".","Normal","completions","from","an","inner",{"code":"throw"},"method","are","processed","similarly","to","an","inner",{"code":"next"},"."]},{"tokens":["If","Type","(",{"id":"innerResult"},")","is","not","Object",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"done"},"be","?","IteratorComplete","(",{"id":"innerResult"},")","."]},{"tokens":["If",{"id":"done"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Return","?","IteratorValue","(",{"id":"innerResult"},")","."]}]}]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"received"},"to","AsyncGeneratorYield","(","?","IteratorValue","(",{"id":"innerResult"},")",")","."]},{"tokens":["Else",",","set",{"id":"received"},"to","GeneratorYield","(",{"id":"innerResult"},")","."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["NOTE",":","If",{"id":"iterator"},"does","not","have","a",{"code":"throw"},"method",",","this","throw","is","going","to","terminate","the",{"code":"yield*"},"loop",".","But","first","we","need","to","give",{"id":"iterator"},"a","chance","to","clean","up","."]},{"tokens":["Let",{"id":"closeCompletion"},"be","Completion","{","[","[","Type","]","]",":",{"const":"normal"},",","[","[","Value","]","]",":",{"const":"empty"},",","[","[","Target","]","]",":",{"const":"empty"},"}","."]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","perform","?","AsyncIteratorClose","(",{"id":"iteratorRecord"},",",{"id":"closeCompletion"},")","."]},{"tokens":["Else",",","perform","?","IteratorClose","(",{"id":"iteratorRecord"},",",{"id":"closeCompletion"},")","."]},{"tokens":["NOTE",":","The","next","step","throws","a",{"value":"TypeError"},"to","indicate","that","there","was","a",{"code":"yield*"},"protocol","violation",":",{"id":"iterator"},"does","not","have","a",{"code":"throw"},"method","."]},{"tokens":["Throw","a",{"value":"TypeError"},"exception","."]}]}]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Assert",":",{"id":"received"},".","[","[","Type","]","]","is",{"const":"return"},"."]},{"tokens":["Let",{"id":"return"},"be","?","GetMethod","(",{"id":"iterator"},",",{"code":"\"return\""},")","."]},{"tokens":["If",{"id":"return"},"is",{"value":"undefined"},",","then",{"steps":[{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"received"},".","[","[","Value","]","]","to","?","Await","(",{"id":"received"},".","[","[","Value","]","]",")","."]},{"tokens":["Return","Completion","(",{"id":"received"},")","."]}]}]},{"tokens":["Let",{"id":"innerReturnResult"},"be","?","Call","(",{"id":"return"},",",{"id":"iterator"},",","«",{"id":"received"},".","[","[","Value","]","]","»",")","."]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"innerReturnResult"},"to","?","Await","(",{"id":"innerReturnResult"},")","."]},{"tokens":["If","Type","(",{"id":"innerReturnResult"},")","is","not","Object",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"done"},"be","?","IteratorComplete","(",{"id":"innerReturnResult"},")","."]},{"tokens":["If",{"id":"done"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Let",{"id":"value"},"be","?","IteratorValue","(",{"id":"innerReturnResult"},")","."]},{"tokens":["Return","Completion","{","[","[","Type","]","]",":",{"const":"return"},",","[","[","Value","]","]",":",{"id":"value"},",","[","[","Target","]","]",":",{"const":"empty"},"}","."]}]}]},{"tokens":["If",{"id":"generatorKind"},"is",{"const":"async"},",","then","set",{"id":"received"},"to","AsyncGeneratorYield","(","?","IteratorValue","(",{"id":"innerReturnResult"},")",")","."]},{"tokens":["Else",",","set",{"id":"received"},"to","GeneratorYield","(",{"id":"innerReturnResult"},")","."]}]}]}]}]}],"length":0,"filename":"es2018/algorithm/YieldExpression2Evaluation0.json"}