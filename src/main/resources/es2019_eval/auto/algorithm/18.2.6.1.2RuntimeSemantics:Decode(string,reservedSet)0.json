{"kind":"Method","lang":false,"params":[],"steps":[{"tokens":["Let",{"id":"strLen"},"be","the","number","of","code","units","in",{"id":"string"},"."]},{"tokens":["Let",{"id":"R"},"be","the","empty","String","."]},{"tokens":["Let",{"id":"k"},"be","0","."]},{"tokens":["Repeat",",",{"steps":[{"tokens":["If",{"id":"k"},"equals",{"id":"strLen"},",","return",{"id":"R"},"."]},{"tokens":["Let",{"id":"C"},"be","the","code","unit","at","index",{"id":"k"},"within",{"id":"string"},"."]},{"tokens":["If",{"id":"C"},"is","not","the","code","unit","0x0025","(","PERCENT","SIGN",")",",","then",{"steps":[{"tokens":["Let",{"id":"S"},"be","the","String","value","containing","only","the","code","unit",{"id":"C"},"."]}]}]},{"tokens":["Else",{"id":"C"},"is","the","code","unit","0x0025","(","PERCENT","SIGN",")",",",{"steps":[{"tokens":["Let",{"id":"start"},"be",{"id":"k"},"."]},{"tokens":["If",{"id":"k"},"+","2","is","greater","than","or","equal","to",{"id":"strLen"},",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["If","the","code","units","at","index","(",{"id":"k"},"+","1",")","and","(",{"id":"k"},"+","2",")","within",{"id":"string"},"do","not","represent","hexadecimal","digits",",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["Let",{"id":"B"},"be","the","8","-","bit","value","represented","by","the","two","hexadecimal","digits","at","index","(",{"id":"k"},"+","1",")","and","(",{"id":"k"},"+","2",")","."]},{"tokens":["Increment",{"id":"k"},"by","2","."]},{"tokens":["If","the","most","significant","bit","in",{"id":"B"},"is","0",",","then",{"steps":[{"tokens":["Let",{"id":"C"},"be","the","code","unit","whose","value","is",{"id":"B"},"."]},{"tokens":["If",{"id":"C"},"is","not","in",{"id":"reservedSet"},",","then",{"steps":[{"tokens":["Let",{"id":"S"},"be","the","String","value","containing","only","the","code","unit",{"id":"C"},"."]}]}]},{"tokens":["Else",{"id":"C"},"is","in",{"id":"reservedSet"},",",{"steps":[{"tokens":["Let",{"id":"S"},"be","the","substring","of",{"id":"string"},"from","index",{"id":"start"},"to","index",{"id":"k"},"inclusive","."]}]}]}]}]},{"tokens":["Else","the","most","significant","bit","in",{"id":"B"},"is","1",",",{"steps":[{"tokens":["Let",{"id":"n"},"be","the","smallest","nonnegative","integer","such","that","(",{"id":"B"},"<","<",{"id":"n"},")","&","0x80","is","equal","to","0","."]},{"tokens":["If",{"id":"n"},"equals","1","or",{"id":"n"},"is","greater","than","4",",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["Let",{"id":"Octets"},"be","a","List","of","8","-","bit","integers","of","size",{"id":"n"},"."]},{"tokens":["Set",{"id":"Octets"},"[","0","]","to",{"id":"B"},"."]},{"tokens":["If",{"id":"k"},"+","(","3","Ã—","(",{"id":"n"},"-","1",")",")","is","greater","than","or","equal","to",{"id":"strLen"},",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["Let",{"id":"j"},"be","1","."]},{"tokens":["Repeat",",","while",{"id":"j"},"<",{"id":"n"},{"steps":[{"tokens":["Increment",{"id":"k"},"by","1","."]},{"tokens":["If","the","code","unit","at","index",{"id":"k"},"within",{"id":"string"},"is","not","the","code","unit","0x0025","(","PERCENT","SIGN",")",",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["If","the","code","units","at","index","(",{"id":"k"},"+","1",")","and","(",{"id":"k"},"+","2",")","within",{"id":"string"},"do","not","represent","hexadecimal","digits",",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["Let",{"id":"B"},"be","the","8","-","bit","value","represented","by","the","two","hexadecimal","digits","at","index","(",{"id":"k"},"+","1",")","and","(",{"id":"k"},"+","2",")","."]},{"tokens":["If","the","two","most","significant","bits","in",{"id":"B"},"are","not","10",",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["Increment",{"id":"k"},"by","2","."]},{"tokens":["Set",{"id":"Octets"},"[",{"id":"j"},"]","to",{"id":"B"},"."]},{"tokens":["Increment",{"id":"j"},"by","1","."]}]}]},{"tokens":["If",{"id":"Octets"},"does","not","contain","a","valid","UTF","-","8","encoding","of","a","Unicode","code","point",",","throw","a",{"value":"URIError"},"exception","."]},{"tokens":["Let",{"id":"V"},"be","the","value","obtained","by","applying","the","UTF","-","8","transformation","to",{"id":"Octets"},",","that","is",",","from","a","List","of","octets","into","a","21","-","bit","value","."]},{"tokens":["Let",{"id":"S"},"be","the","String","value","whose","code","units","are",",","in","order",",","the","elements","in","UTF16Encoding","(",{"id":"V"},")","."]}]}]}]}]},{"tokens":["Set",{"id":"R"},"to","the","string","-","concatenation","of","the","previous","value","of",{"id":"R"},"and",{"id":"S"},"."]},{"tokens":["Increase",{"id":"k"},"by","1","."]}]}]}],"length":0,"filename":"es2000/algorithm/18.2.6.1.2RuntimeSemantics:Decode(string,reservedSet)0.json"}