{"kind":"Method","params":["fractionDigits"],"steps":[{"tokens":["Let",{"id":"x"},"be","?","thisNumberValue","(",{"value":"this"},"value",")","."]},{"tokens":["Let",{"id":"f"},"be","?","ToInteger","(",{"id":"fractionDigits"},")","."]},{"tokens":["Assert",":",{"id":"f"},"is","0",",","when",{"id":"fractionDigits"},"is",{"value":"undefined"},"."]},{"tokens":["If",{"id":"x"},"is",{"value":"NaN"},",","return","the","String",{"code":"\"NaN\""},"."]},{"tokens":["Let",{"id":"s"},"be","the","empty","String","."]},{"tokens":["If",{"id":"x"},"<","0",",","then",{"steps":[{"tokens":["Let",{"id":"s"},"be",{"code":"\"-\""},"."]},{"tokens":["Let",{"id":"x"},"be","-",{"id":"x"},"."]}]}]},{"tokens":["If",{"id":"x"},"=",{"value":"+∞"},",","then",{"steps":[{"tokens":["Return","the","concatenation","of","the","Strings",{"id":"s"},"and",{"code":"\"Infinity\""},"."]}]}]},{"tokens":["If",{"id":"f"},"<","0","or",{"id":"f"},">","20",",","throw","a",{"value":"RangeError"},"exception",".","However",",","an","implementation","is","permitted","to","extend","the","behaviour","of",{"code":"toExponential"},"for","values","of",{"id":"f"},"less","than","0","or","greater","than","20",".","In","this","case",{"code":"toExponential"},"would","not","necessarily","throw",{"value":"RangeError"},"for","such","values","."]},{"tokens":["If",{"id":"x"},"=","0",",","then",{"steps":[{"tokens":["Let",{"id":"m"},"be","the","String","consisting","of",{"id":"f"},"+","1","occurrences","of","the","code","unit","0x0030","(","DIGIT","ZERO",")","."]},{"tokens":["Let",{"id":"e"},"be","0","."]}]}]},{"tokens":["Else",{"id":"x"},"≠","0",",",{"steps":[{"tokens":["If",{"id":"fractionDigits"},"is","not",{"value":"undefined"},",","then",{"steps":[{"tokens":["Let",{"id":"e"},"and",{"id":"n"},"be","integers","such","that","10",{"sup":{"tokens":[{"id":"f"}]}},"≤",{"id":"n"},"<","10",{"sup":{"tokens":[{"id":"f"},"+","1"]}},"and","for","which","the","exact","mathematical","value","of",{"id":"n"},"×","10",{"sup":{"tokens":[{"id":"e"},"-",{"id":"f"}]}},"-",{"id":"x"},"is","as","close","to","zero","as","possible",".","If","there","are","two","such","sets","of",{"id":"e"},"and",{"id":"n"},",","pick","the",{"id":"e"},"and",{"id":"n"},"for","which",{"id":"n"},"×","10",{"sup":{"tokens":[{"id":"e"},"-",{"id":"f"}]}},"is","larger","."]}]}]},{"tokens":["Else",{"id":"fractionDigits"},"is",{"value":"undefined"},",",{"steps":[{"tokens":["Let",{"id":"e"},",",{"id":"n"},",","and",{"id":"f"},"be","integers","such","that",{"id":"f"},"≥","0",",","10",{"sup":{"tokens":[{"id":"f"}]}},"≤",{"id":"n"},"<","10",{"sup":{"tokens":[{"id":"f"},"+","1"]}},",","the","Number","value","for",{"id":"n"},"×","10",{"sup":{"tokens":[{"id":"e"},"-",{"id":"f"}]}},"is",{"id":"x"},",","and",{"id":"f"},"is","as","small","as","possible",".","Note","that","the","decimal","representation","of",{"id":"n"},"has",{"id":"f"},"+","1","digits",",",{"id":"n"},"is","not","divisible","by","10",",","and","the","least","significant","digit","of",{"id":"n"},"is","not","necessarily","uniquely","determined","by","these","criteria","."]}]}]},{"tokens":["Let",{"id":"m"},"be","the","String","consisting","of","the","digits","of","the","decimal","representation","of",{"id":"n"},"(","in","order",",","with","no","leading","zeroes",")","."]}]}]},{"tokens":["If",{"id":"f"},"≠","0",",","then",{"steps":[{"tokens":["Let",{"id":"a"},"be","the","first","element","of",{"id":"m"},",","and","let",{"id":"b"},"be","the","remaining",{"id":"f"},"elements","of",{"id":"m"},"."]},{"tokens":["Let",{"id":"m"},"be","the","concatenation","of","the","three","Strings",{"id":"a"},",",{"code":"\".\""},",","and",{"id":"b"},"."]}]}]},{"tokens":["If",{"id":"e"},"=","0",",","then",{"steps":[{"tokens":["Let",{"id":"c"},"be",{"code":"\"+\""},"."]},{"tokens":["Let",{"id":"d"},"be",{"code":"\"0\""},"."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["If",{"id":"e"},">","0",",","let",{"id":"c"},"be",{"code":"\"+\""},"."]},{"tokens":["Else",{"id":"e"},"≤","0",",",{"steps":[{"tokens":["Let",{"id":"c"},"be",{"code":"\"-\""},"."]},{"tokens":["Let",{"id":"e"},"be","-",{"id":"e"},"."]}]}]},{"tokens":["Let",{"id":"d"},"be","the","String","consisting","of","the","digits","of","the","decimal","representation","of",{"id":"e"},"(","in","order",",","with","no","leading","zeroes",")","."]}]}]},{"tokens":["Let",{"id":"m"},"be","the","concatenation","of","the","four","Strings",{"id":"m"},",",{"code":"\"e\""},",",{"id":"c"},",","and",{"id":"d"},"."]},{"tokens":["Return","the","concatenation","of","the","Strings",{"id":"s"},"and",{"id":"m"},"."]}],"length":1,"filename":"es2000/algorithm/GLOBAL.Number.prototype.toExponential.json"}