digraph {
  node18889 [shape=cds, label=<<font color="black">7:app __x2__ = (IsCallable onRejected)</font>> color="black" fillcolor="white" style=filled]
  node18888 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">onFulfilled = undefined</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18896 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">15:let value = promise.PromiseResult</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18884 [shape=diamond, label=<<font color="black">(! (= resultCapability absent))</font>> color="black" fillcolor="white" style=filled]
  node18886 [shape=cds, label=<<font color="black">5:app __x1__ = (IsCallable onFulfilled)</font>> color="black" fillcolor="white" style=filled]
  node18903 [shape=cds, label=<<font color="black">app __x5__ = (HostPromiseRejectionTracker promise &quot;handle&quot;)</font>> color="black" fillcolor="white" style=filled]
  node18906 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">22:let rejectJob = __x6__</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18893 [shape=diamond, label=<<font color="black">(= promise.PromiseState CONST_pending)</font>> color="black" fillcolor="white" style=filled]
  node18897 [shape=cds, label=<<font color="black">16:app __x3__ = (NewPromiseReactionJob fulfillReaction value)</font>> color="black" fillcolor="white" style=filled]
  node18910 [shape=diamond, label=<<font color="black">(= resultCapability undefined)</font>> color="black" fillcolor="white" style=filled]
  node18901 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">19:assert (= promise.PromiseState CONST_rejected)</td></tr>
      <tr><td align="left">20:let reason = promise.PromiseResult</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18898 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">16:let fulfillJob = __x3__</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18909 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">24:promise.PromiseIsHandled = true</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18883 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">0:assert (= __x0__ true)</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18892 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">9:let fulfillReaction = (new PromiseReaction(&quot;Capability&quot; -&gt; resultCapability, &quot;Type&quot; -&gt; CONST_Fulfill, &quot;Handler&quot; -&gt; onFulfilled))</td></tr>
      <tr><td align="left">10:let rejectReaction = (new PromiseReaction(&quot;Capability&quot; -&gt; resultCapability, &quot;Type&quot; -&gt; CONST_Reject, &quot;Handler&quot; -&gt; onRejected))</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18885 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">resultCapability = undefined</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18905 [shape=cds, label=<<font color="black">22:app __x6__ = (NewPromiseReactionJob rejectReaction reason)</font>> color="black" fillcolor="white" style=filled]
  node18902 [shape=diamond, label=<<font color="black">(= promise.PromiseIsHandled false)</font>> color="black" fillcolor="white" style=filled]
  node18880 [shape=circle label=" " color="black" fillcolor="white" style=filled]
  node18899 [shape=cds, label=<<font color="black">17:app __x4__ = (HostEnqueuePromiseJob fulfillJob.Job fulfillJob.Realm)</font>> color="black" fillcolor="white" style=filled]
  node18912 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">return resultCapability.Promise</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18895 [shape=diamond, label=<<font color="black">(= promise.PromiseState CONST_fulfilled)</font>> color="black" fillcolor="white" style=filled]
  node18891 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">onRejected = undefined</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18908 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">23:__x7__</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18894 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">12:append fulfillReaction -&gt; promise.PromiseFulfillReactions</td></tr>
      <tr><td align="left">13:append rejectReaction -&gt; promise.PromiseRejectReactions</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18900 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">17:__x4__</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18911 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">return undefined</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18881 [shape=circle label=" " color="black" fillcolor="white" style=filled]
  node18907 [shape=cds, label=<<font color="black">23:app __x7__ = (HostEnqueuePromiseJob rejectJob.Job rejectJob.Realm)</font>> color="black" fillcolor="white" style=filled]
  node18882 [shape=cds, label=<<font color="black">0:app __x0__ = (IsPromise promise)</font>> color="black" fillcolor="white" style=filled]
  node18890 [shape=diamond, label=<<font color="black">(= __x2__ false)</font>> color="black" fillcolor="white" style=filled]
  node18887 [shape=diamond, label=<<font color="black">(= __x1__ false)</font>> color="black" fillcolor="white" style=filled]
  node18904 [shape=none, margin=0, label=<<font color="black">
    <table border="0" cellborder="1" cellspacing="0" cellpadding="10">
      <tr><td align="left">__x5__</td></tr>
    </table>
  </font>> color="black" fillcolor="white" style=filled]
  node18894 -> node18909 [ color="black"]
  node18903 -> node18904 [ color="black"]
  node18893 -> node18894 [label=<<font color="black">true</font>> color="black"]
  node18893 -> node18895 [label=<<font color="black">false</font>> color="black"]
  node18886 -> node18887 [ color="black"]
  node18912 -> node18881 [ color="black"]
  node18887 -> node18888 [label=<<font color="black">true</font>> color="black"]
  node18887 -> node18889 [label=<<font color="black">false</font>> color="black"]
  node18897 -> node18898 [ color="black"]
  node18885 -> node18886 [ color="black"]
  node18891 -> node18892 [ color="black"]
  node18890 -> node18891 [label=<<font color="black">true</font>> color="black"]
  node18890 -> node18892 [label=<<font color="black">false</font>> color="black"]
  node18911 -> node18881 [ color="black"]
  node18880 -> node18882 [ color="black"]
  node18899 -> node18900 [ color="black"]
  node18901 -> node18902 [ color="black"]
  node18892 -> node18893 [ color="black"]
  node18898 -> node18899 [ color="black"]
  node18900 -> node18909 [ color="black"]
  node18882 -> node18883 [ color="black"]
  node18883 -> node18884 [ color="black"]
  node18906 -> node18907 [ color="black"]
  node18895 -> node18896 [label=<<font color="black">true</font>> color="black"]
  node18895 -> node18901 [label=<<font color="black">false</font>> color="black"]
  node18884 -> node18886 [label=<<font color="black">true</font>> color="black"]
  node18884 -> node18885 [label=<<font color="black">false</font>> color="black"]
  node18905 -> node18906 [ color="black"]
  node18907 -> node18908 [ color="black"]
  node18908 -> node18909 [ color="black"]
  node18896 -> node18897 [ color="black"]
  node18910 -> node18911 [label=<<font color="black">true</font>> color="black"]
  node18910 -> node18912 [label=<<font color="black">false</font>> color="black"]
  node18909 -> node18910 [ color="black"]
  node18888 -> node18889 [ color="black"]
  node18904 -> node18905 [ color="black"]
  node18889 -> node18890 [ color="black"]
  node18902 -> node18903 [label=<<font color="black">true</font>> color="black"]
  node18902 -> node18905 [label=<<font color="black">false</font>> color="black"]
}
