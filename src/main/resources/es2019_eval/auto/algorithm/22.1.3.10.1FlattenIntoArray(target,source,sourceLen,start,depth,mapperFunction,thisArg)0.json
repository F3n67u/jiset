{"kind":"Method","lang":false,"params":[],"steps":[{"tokens":["Let",{"id":"targetIndex"},"be",{"id":"start"},"."]},{"tokens":["Let",{"id":"sourceIndex"},"be","0","."]},{"tokens":["Repeat",",","while",{"id":"sourceIndex"},"<",{"id":"sourceLen"},{"steps":[{"tokens":["Let",{"id":"P"},"be","!","ToString","(",{"id":"sourceIndex"},")","."]},{"tokens":["Let",{"id":"exists"},"be","?","HasProperty","(",{"id":"source"},",",{"id":"P"},")","."]},{"tokens":["If",{"id":"exists"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Let",{"id":"element"},"be","?","Get","(",{"id":"source"},",",{"id":"P"},")","."]},{"tokens":["If",{"id":"mapperFunction"},"is","present",",","then",{"steps":[{"tokens":["Assert",":",{"id":"thisArg"},"is","present","."]},{"tokens":["Set",{"id":"element"},"to","?","Call","(",{"id":"mapperFunction"},",",{"id":"thisArg"},",","«",{"id":"element"},",",{"id":"sourceIndex"},",",{"id":"source"},"»",")","."]}]}]},{"tokens":["Let",{"id":"shouldFlatten"},"be",{"value":"false"},"."]},{"tokens":["If",{"id":"depth"},">","0",",","then",{"steps":[{"tokens":["Set",{"id":"shouldFlatten"},"to","?","IsArray","(",{"id":"element"},")","."]}]}]},{"tokens":["If",{"id":"shouldFlatten"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Let",{"id":"elementLen"},"be","?","ToLength","(","?","Get","(",{"id":"element"},",",{"code":"\"length\""},")",")","."]},{"tokens":["Set",{"id":"targetIndex"},"to","?","FlattenIntoArray","(",{"id":"target"},",",{"id":"element"},",",{"id":"elementLen"},",",{"id":"targetIndex"},",",{"id":"depth"},"-","1",")","."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["If",{"id":"targetIndex"},"≥","2",{"sup":{"tokens":["53"]}},"-","1",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Perform","?","CreateDataPropertyOrThrow","(",{"id":"target"},",","!","ToString","(",{"id":"targetIndex"},")",",",{"id":"element"},")","."]},{"tokens":["Increase",{"id":"targetIndex"},"by","1","."]}]}]}]}]},{"tokens":["Increase",{"id":"sourceIndex"},"by","1","."]}]}]},{"tokens":["Return",{"id":"targetIndex"},"."]}],"length":0,"filename":"es2000/algorithm/22.1.3.10.1FlattenIntoArray(target,source,sourceLen,start,depth,mapperFunction,thisArg)0.json"}