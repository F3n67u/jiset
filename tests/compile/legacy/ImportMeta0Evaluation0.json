[{
  "tokens": ["Let", {
    "id": "module"
  }, "be", "!", "GetActiveScriptOrModule", "(", ")", "."]
}, {
  "tokens": ["Assert", ":", {
    "id": "module"
  }, "is", "a", "Source", "Text", "Module", "Record", "."]
}, {
  "tokens": ["Let", {
    "id": "importMeta"
  }, "be", {
    "id": "module"
  }, ".", "[", "[", "ImportMeta", "]", "]", "."]
}, {
  "tokens": ["If", {
    "id": "importMeta"
  }, "is", {
    "const": "empty"
  }, ",", "then", {
    "steps": [{
      "tokens": ["Set", {
        "id": "importMeta"
      }, "to", "!", "OrdinaryObjectCreate", "(", {
        "value": "null"
      }, ")", "."]
    }, {
      "tokens": ["Let", {
        "id": "importMetaValues"
      }, "be", "!", "HostGetImportMetaProperties", "(", {
        "id": "module"
      }, ")", "."]
    }, {
      "tokens": ["For", "each", "Record", "{", "[", "[", "Key", "]", "]", ",", "[", "[", "Value", "]", "]", "}", {
        "id": "p"
      }, "that", "is", "an", "element", "of", {
        "id": "importMetaValues"
      }, ",", "do", {
        "steps": [{
          "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
            "id": "importMeta"
          }, ",", {
            "id": "p"
          }, ".", "[", "[", "Key", "]", "]", ",", {
            "id": "p"
          }, ".", "[", "[", "Value", "]", "]", ")", "."]
        }]
      }]
    }, {
      "tokens": ["Perform", "!", "HostFinalizeImportMeta", "(", {
        "id": "importMeta"
      }, ",", {
        "id": "module"
      }, ")", "."]
    }, {
      "tokens": ["Set", {
        "id": "module"
      }, ".", "[", "[", "ImportMeta", "]", "]", "to", {
        "id": "importMeta"
      }, "."]
    }, {
      "tokens": ["Return", {
        "id": "importMeta"
      }, "."]
    }]
  }]
}, {
  "tokens": ["Else", ",", {
    "steps": [{
      "tokens": ["Assert", ":", "Type", "(", {
        "id": "importMeta"
      }, ")", "is", "Object", "."]
    }, {
      "tokens": ["Return", {
        "id": "importMeta"
      }, "."]
    }]
  }]
}]