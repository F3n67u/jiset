{"kind":"Method","params":["scriptRecord"],"steps":[{"tokens":["Let",{"id":"globalEnv"},"be",{"id":"scriptRecord"},".","[","[","Realm","]","]",".","[","[","GlobalEnv","]","]","."]},{"tokens":["Let",{"id":"scriptCxt"},"be","a","new","ECMAScript","code","execution","context","."]},{"tokens":["Set","the","Function","of",{"id":"scriptCxt"},"to",{"value":"null"},"."]},{"tokens":["Set","the","Realm","of",{"id":"scriptCxt"},"to",{"id":"scriptRecord"},".","[","[","Realm","]","]","."]},{"tokens":["Set","the","ScriptOrModule","of",{"id":"scriptCxt"},"to",{"id":"scriptRecord"},"."]},{"tokens":["Set","the","VariableEnvironment","of",{"id":"scriptCxt"},"to",{"id":"globalEnv"},"."]},{"tokens":["Set","the","LexicalEnvironment","of",{"id":"scriptCxt"},"to",{"id":"globalEnv"},"."]},{"tokens":["Suspend","the","currently","running","execution","context","."]},{"tokens":["Push",{"id":"scriptCxt"},"on","to","the","execution","context","stack",";",{"id":"scriptCxt"},"is","now","the","running","execution","context","."]},{"tokens":["Let",{"id":"scriptBody"},"be",{"id":"scriptRecord"},".","[","[","ECMAScriptCode","]","]","."]},{"tokens":["Let",{"id":"result"},"be","GlobalDeclarationInstantiation","(",{"id":"scriptBody"},",",{"id":"globalEnv"},")","."]},{"tokens":["If",{"id":"result"},".","[","[","Type","]","]","is",{"value":"normal"},",","then",{"steps":[{"tokens":["Set",{"id":"result"},"to","the","result","of","evaluating",{"id":"scriptBody"},"."]}]}]},{"tokens":["If",{"id":"result"},".","[","[","Type","]","]","is",{"value":"normal"},"and",{"id":"result"},".","[","[","Value","]","]","is",{"value":"empty"},",","then",{"steps":[{"tokens":["Set",{"id":"result"},"to","NormalCompletion","(",{"value":"undefined"},")","."]}]}]},{"tokens":["Suspend",{"id":"scriptCxt"},"and","remove","it","from","the","execution","context","stack","."]},{"tokens":["Assert",":","The","execution","context","stack","is","not","empty","."]},{"tokens":["Resume","the","context","that","is","now","on","the","top","of","the","execution","context","stack","as","the","running","execution","context","."]},{"tokens":["Return","Completion","(",{"id":"result"},")","."]}],"filename":"es2018/algorithm/ScriptEvaluation.json"}