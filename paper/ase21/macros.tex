% math zaph chancery characters
\DeclareMathAlphabet{\mathpzc}{T1}{pzc}{m}{it}

% powerset
\newcommand{\partsof}[1]{\mathcal{P}(#1)}

% small textsf
\newcommand{\stextsf}[1]{\textsf{\small #1}}

% code styles
\definecolor{dkgreen}{rgb}{0,0.6,0}
\lstdefinelanguage{JavaScript}{
  keywords={let, async, await, break, case, catch, class, const, continue,
    debugger, default, delete, do, else, enum, export, extends, false, finally,
    for, function, if, import, in, instanceof, new, null, return, super, switch,
    this, throw, true, try, typeof, var, void, while, with, yield},
  keywordstyle=\color{blue}\bfseries,
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{dkgreen}\ttfamily,
  stringstyle=\color{purple}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}
\lstdefinestyle{FigureJS}{
  language=JavaScript,
  numbers=left,
  stepnumber=1,
  extendedchars=true,
  basicstyle=\footnotesize\ttfamily,
  showstringspaces=false,
  showspaces=false,
  xleftmargin=\parindent,
  tabsize=2,
  breaklines=true,
  showtabs=false,
  captionpos=b
}

% tool name
\newcommand{\bigtool}{\textsf{JSTAR}}
\newcommand{\tool}{\textsf{JSTAR}}

% jiset
\newcommand{\jiset}{\textsf{JISET}}

% ires
\newcommand{\ires}{{\text{IR}_\text{ES}}}

% comments with red color
\newcommand{\inred}[1]{{\color{red}{#1}}}
\newcommand{\todo}{\text{\inred{TODO}}}

% codes
\newcommand{\jscode}[1]{\text{\lstinline[style=FigureJS,numbers=none]!#1!}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\clist}[1]{\kwsl #1 \kwsr}

% mapping
\newcommand{\finmap}{\xrightarrow{\text{fin}}}

% abstraction
\newcommand{\abs}[1]{{#1}^\sharp}

% initial
\newcommand{\init}[1]{{#1}_\iota}

% states
\newcommand{\dom}{\mathbb{S}}
\newcommand{\ielemset}{\init{\dom}}
\newcommand{\elem}{d}
\newcommand{\ctxtset}{\mathbb{C}}
\newcommand{\ctxt}{C}
\newcommand{\envset}{\mathbb{E}}
\newcommand{\env}{\sigma}
\newcommand{\valset}{\mathbb{V}}
\newcommand{\val}{v}

% abstract states
\newcommand{\adom}{\abs{\dom}}
\newcommand{\aelem}{\abs{\elem}}
\newcommand{\iaelem}{{\elem_\iota^\sharp}}
\newcommand{\aenvset}{\abs{\envset}}
\newcommand{\aenv}{\abs{\env}}
\newcommand{\etyset}{\tyset_e}
\newcommand{\ety}{\ty_e}
\newcommand{\atyset}{\tyset_e^\sharp}
\newcommand{\aty}{\ty_e^\sharp}

% views
\newcommand{\view}{\pi}
\newcommand{\viewset}{\Pi}

% transition
\newcommand{\trans}{\leadsto}

% subtype
\newcommand{\subtype}{<:}

% programs
\newcommand{\prog}{P}
\newcommand{\getlab}{\code{get}}
\newcommand{\nextlab}{\code{next}}
\newcommand{\funcs}{\code{funcs}}

% syntax
\newcommand{\funcset}{\mathbb{F}}
\newcommand{\func}{f}
\newcommand{\instset}{\mathbb{I}}
\newcommand{\inst}{i}
\newcommand{\expr}{e}
\newcommand{\refer}{r}
\newcommand{\const}{c}
\newcommand{\primset}{\mathbb{P}}
\newcommand{\prim}{p}
\newcommand{\undefval}{\code{undefined}}
\newcommand{\nullval}{\code{null}}
\newcommand{\bool}{b}
\newcommand{\num}{n}
\newcommand{\bigint}{i}
\newcommand{\str}{s}
\newcommand{\symb}{\code{@}s}

% keywords
\newcommand{\kwlet}{\code{let}}
\newcommand{\kwif}{\code{if}}
\newcommand{\kwdef}{\code{def}}
\newcommand{\kwwhile}{\code{while}}
\newcommand{\kwreturn}{\code{return}}
\newcommand{\kwassert}{\code{assert}}
\newcommand{\kwrl}{\code{(}}
\newcommand{\kwrr}{\code{)}}
\newcommand{\kwcl}{\code{\{}}
\newcommand{\kwcr}{\code{\}}}
\newcommand{\kwsl}{\code{[}}
\newcommand{\kwsr}{\code{]}}
\newcommand{\kwexists}{\code{?}}


% types
\newcommand{\tyset}{\mathbb{T}}
\newcommand{\ty}{\tau}
\newcommand{\tname}{t}
\newcommand{\tjs}{\code{js}}
\newcommand{\tprim}{\code{prim}}
\newcommand{\tbool}{\code{bool}}
\newcommand{\tnumeric}{\code{numeric}}
\newcommand{\tnum}{\code{num}}
\newcommand{\tbigint}{\code{bigint}}
\newcommand{\tstr}{\code{str}}
\newcommand{\tsymb}{\code{symbol}}
\newcommand{\tnormal}{\code{normal}}
\newcommand{\tabrupt}{\code{abrupt}}
\newcommand{\tabsent}{\code{?}}

% operators
\newcommand{\bop}{\oplus}
\newcommand{\uop}{\ominus}

% variables
\newcommand{\varset}{\mathbb{X}}
\newcommand{\f}{\code{f}}
\newcommand{\x}{\code{x}}
\newcommand{\y}{\code{y}}
\newcommand{\z}{\code{z}}

% labels
\newcommand{\labset}{\mathbb{L}}
\newcommand{\lab}{\mathpzc{l}}

% semantics
\newcommand{\sem}[1]{\llbracket{#1}\rrbracket}
\newcommand{\asem}[1]{\abs{\sem{#1}}}
