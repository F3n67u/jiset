{"kind":"RuntimeSemantics","params":["A","invert","direction"],"steps":[{"tokens":["Return","an","internal","Matcher","closure","that","takes","two","arguments",",","a","State",{"id":"x"},"and","a","Continuation",{"id":"c"},",","and","performs","the","following","steps","when","evaluated",":",{"steps":[{"tokens":["Let",{"id":"e"},"be",{"id":"x"},"'","s",{"id":"endIndex"},"."]},{"tokens":["Let",{"id":"f"},"be",{"id":"e"},"+",{"id":"direction"},"."]},{"tokens":["If",{"id":"f"},"<","0","or",{"id":"f"},">",{"id":"InputLength"},",","return",{"value":"failure"},"."]},{"tokens":["Let",{"id":"index"},"be","min","(",{"id":"e"},",",{"id":"f"},")","."]},{"tokens":["Let",{"id":"ch"},"be","the","character",{"id":"Input"},"[",{"id":"index"},"]","."]},{"tokens":["Let",{"id":"cc"},"be","Canonicalize","(",{"id":"ch"},")","."]},{"tokens":["If",{"id":"invert"},"is",{"value":"false"},",","then",{"steps":[{"tokens":["If","there","does","not","exist","a","member",{"id":"a"},"of","set",{"id":"A"},"such","that","Canonicalize","(",{"id":"a"},")","is",{"id":"cc"},",","return",{"value":"failure"},"."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Assert",":",{"id":"invert"},"is",{"value":"true"},"."]},{"tokens":["If","there","exists","a","member",{"id":"a"},"of","set",{"id":"A"},"such","that","Canonicalize","(",{"id":"a"},")","is",{"id":"cc"},",","return",{"value":"failure"},"."]}]}]},{"tokens":["Let",{"id":"cap"},"be",{"id":"x"},"'","s",{"id":"captures"},"List","."]},{"tokens":["Let",{"id":"y"},"be","the","State","(",{"id":"f"},",",{"id":"cap"},")","."]},{"tokens":["Call",{"id":"c"},"(",{"id":"y"},")","and","return","its","result","."]}]}]}],"filename":"es2018/algorithm/CharacterSetMatcher.json"}