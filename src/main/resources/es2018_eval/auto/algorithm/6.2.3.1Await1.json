{"kind":"Method","lang":true,"params":[],"steps":[{"tokens":["Let",{"id":"asyncContext"},"be","the","running","execution","context","."]},{"tokens":["Let",{"id":"promiseCapability"},"be","!","NewPromiseCapability","(","%","Promise","%",")","."]},{"tokens":["Perform","!","Call","(",{"id":"promiseCapability"},".","[","[","Resolve","]","]",",",{"value":"undefined"},",","«",{"id":"promise"},"»",")","."]},{"tokens":["Let",{"id":"stepsFulfilled"},"be","the","algorithm","steps","defined","in","Await","Fulfilled","Functions","."]},{"tokens":["Let",{"id":"onFulfilled"},"be","CreateBuiltinFunction","(",{"id":"stepsFulfilled"},",","«","[","[","AsyncContext","]","]","»",")","."]},{"tokens":["Set",{"id":"onFulfilled"},".","[","[","AsyncContext","]","]","to",{"id":"asyncContext"},"."]},{"tokens":["Let",{"id":"stepsRejected"},"be","the","algorithm","steps","defined","in","Await","Rejected","Functions","."]},{"tokens":["Let",{"id":"onRejected"},"be","CreateBuiltinFunction","(",{"id":"stepsRejected"},",","«","[","[","AsyncContext","]","]","»",")","."]},{"tokens":["Set",{"id":"onRejected"},".","[","[","AsyncContext","]","]","to",{"id":"asyncContext"},"."]},{"tokens":["Let",{"id":"throwawayCapability"},"be","!","NewPromiseCapability","(","%","Promise","%",")","."]},{"tokens":["Set",{"id":"throwawayCapability"},".","[","[","Promise","]","]",".","[","[","PromiseIsHandled","]","]","to",{"value":"true"},"."]},{"tokens":["Perform","!","PerformPromiseThen","(",{"id":"promiseCapability"},".","[","[","Promise","]","]",",",{"id":"onFulfilled"},",",{"id":"onRejected"},",",{"id":"throwawayCapability"},")","."]},{"tokens":["Remove",{"id":"asyncContext"},"from","the","execution","context","stack","and","restore","the","execution","context","that","is","at","the","top","of","the","execution","context","stack","as","the","running","execution","context","."]},{"tokens":["Set","the","code","evaluation","state","of",{"id":"asyncContext"},"such","that","when","evaluation","is","resumed","with","a","Completion",{"id":"completion"},",","the","following","steps","of","the","algorithm","that","invoked","Await","will","be","performed",",","with",{"id":"completion"},"available","."]}],"length":0,"filename":"es2000/algorithm/6.2.3.1Await1.json"}