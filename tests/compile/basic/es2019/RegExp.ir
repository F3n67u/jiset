{
  app __x0__ = (IsRegExp pattern)
  let patternIsRegExp = [? __x0__]
  if (= NewTarget undefined) {
    let newTarget = GLOBAL_context.Function
    if (&& (= patternIsRegExp true) (= flags undefined)) {
      app __x1__ = (Get pattern "constructor")
      let patternConstructor = [? __x1__]
      app __x2__ = (SameValue newTarget patternConstructor)
      if (= __x2__ true) return pattern else {}
    } else {}
  } else let newTarget = NewTarget
  app __x3__ = (Type pattern)
  if (&& (= __x3__ Object) (! (= pattern.RegExpMatcher absent))) {
    let P = pattern.OriginalSource
    if (= flags undefined) let F = pattern.OriginalFlags else let F = flags
  } else if (= patternIsRegExp true) {
    app __x4__ = (Get pattern "source")
    let P = [? __x4__]
    if (= flags undefined) {
      app __x5__ = (Get pattern "flags")
      let F = [? __x5__]
    } else let F = flags
  } else {
    let P = pattern
    let F = flags
  }
  app __x6__ = (RegExpAlloc newTarget)
  let O = [? __x6__]
  app __x7__ = (RegExpInitialize O P F)
  return [? __x7__]
}