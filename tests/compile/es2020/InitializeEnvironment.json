[{
  "tokens": ["Let", {
    "id": "module"
  }, "be", "this", "Source", "Text", "Module", "Record", "."]
}, {
  "tokens": ["For", "each", "ExportEntry", "Record", {
    "id": "e"
  }, "in", {
    "id": "module"
  }, ".", "[", "[", "IndirectExportEntries", "]", "]", ",", "do"]
}, {
  "tokens": ["Let", {
    "id": "resolution"
  }, "be", "?", {
    "id": "module"
  }, ".", "ResolveExport", "(", {
    "id": "e"
  }, ".", "[", "[", "ExportName", "]", "]", ")", "."]
}, {
  "tokens": ["If", {
    "id": "resolution"
  }, "is", {
    "value": "null"
  }, "or", {
    "value": "\"ambiguous\""
  }, ",", "throw", "a", {
    "value": "SyntaxError"
  }, "exception", "."]
}, {
  "tokens": ["Assert", ":", {
    "id": "resolution"
  }, "is", "a", "ResolvedBinding", "Record", "."]
}, {
  "tokens": ["Assert", ":", "All", "named", "exports", "from", {
    "id": "module"
  }, "are", "resolvable", "."]
}, {
  "tokens": ["Let", {
    "id": "realm"
  }, "be", {
    "id": "module"
  }, ".", "[", "[", "Realm", "]", "]", "."]
}, {
  "tokens": ["Assert", ":", {
    "id": "realm"
  }, "is", "not", {
    "value": "undefined"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "env"
  }, "be", "NewModuleEnvironment", "(", {
    "id": "realm"
  }, ".", "[", "[", "GlobalEnv", "]", "]", ")", "."]
}, {
  "tokens": ["Set", {
    "id": "module"
  }, ".", "[", "[", "Environment", "]", "]", "to", {
    "id": "env"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "envRec"
  }, "be", {
    "id": "env"
  }, "'", "s", "EnvironmentRecord", "."]
}, {
  "tokens": ["For", "each", "ImportEntry", "Record", {
    "id": "in"
  }, "in", {
    "id": "module"
  }, ".", "[", "[", "ImportEntries", "]", "]", ",", "do"]
}, {
  "tokens": ["Let", {
    "id": "importedModule"
  }, "be", "!", "HostResolveImportedModule", "(", {
    "id": "module"
  }, ",", {
    "id": "in"
  }, ".", "[", "[", "ModuleRequest", "]", "]", ")", "."]
}, {
  "tokens": ["NOTE", ":", "The", "above", "call", "cannot", "fail", "because", "imported", "module", "requests", "are", "a", "subset", "of", {
    "id": "module"
  }, ".", "[", "[", "RequestedModules", "]", "]", ",", "and", "these", "have", "been", "resolved", "earlier", "in", "this", "algorithm", "."]
}, {
  "tokens": ["If", {
    "id": "in"
  }, ".", "[", "[", "ImportName", "]", "]", "is", {
    "value": "\"\\"
  }, "\"", "*", ",", "then"]
}, {
  "tokens": ["Let", {
    "id": "namespace"
  }, "be", "?", "GetModuleNamespace", "(", {
    "id": "importedModule"
  }, ")", "."]
}, {
  "tokens": ["Perform", "!", {
    "id": "envRec"
  }, ".", "CreateImmutableBinding", "(", {
    "id": "in"
  }, ".", "[", "[", "LocalName", "]", "]", ",", {
    "value": "true"
  }, ")", "."]
}, {
  "tokens": ["Call", {
    "id": "envRec"
  }, ".", "InitializeBinding", "(", {
    "id": "in"
  }, ".", "[", "[", "LocalName", "]", "]", ",", {
    "id": "namespace"
  }, ")", "."]
}, {
  "tokens": ["Else", ","]
}, {
  "tokens": ["Let", {
    "id": "resolution"
  }, "be", "?", {
    "id": "importedModule"
  }, ".", "ResolveExport", "(", {
    "id": "in"
  }, ".", "[", "[", "ImportName", "]", "]", ")", "."]
}, {
  "tokens": ["If", {
    "id": "resolution"
  }, "is", {
    "value": "null"
  }, "or", {
    "value": "\"ambiguous\""
  }, ",", "throw", "a", {
    "value": "SyntaxError"
  }, "exception", "."]
}, {
  "tokens": ["If", {
    "id": "resolution"
  }, ".", "[", "[", "BindingName", "]", "]", "is", {
    "value": "\"\\"
  }, "namespace", "\\", {
    "value": "\""
  }, ",", "then"]
}, {
  "tokens": ["Let", {
    "id": "namespace"
  }, "be", "?", "GetModuleNamespace", "(", {
    "id": "resolution"
  }, ".", "[", "[", "Module", "]", "]", ")", "."]
}, {
  "tokens": ["Perform", "!", {
    "id": "envRec"
  }, ".", "CreateImmutableBinding", "(", {
    "id": "in"
  }, ".", "[", "[", "LocalName", "]", "]", ",", {
    "value": "true"
  }, ")", "."]
}, {
  "tokens": ["Call", {
    "id": "envRec"
  }, ".", "InitializeBinding", "(", {
    "id": "in"
  }, ".", "[", "[", "LocalName", "]", "]", ",", {
    "id": "namespace"
  }, ")", "."]
}, {
  "tokens": ["Else", ","]
}, {
  "tokens": ["Call", {
    "id": "envRec"
  }, ".", "CreateImportBinding", "(", {
    "id": "in"
  }, ".", "[", "[", "LocalName", "]", "]", ",", {
    "id": "resolution"
  }, ".", "[", "[", "Module", "]", "]", ",", {
    "id": "resolution"
  }, ".", "[", "[", "BindingName", "]", "]", ")", "."]
}, {
  "tokens": ["Let", {
    "id": "moduleContext"
  }, "be", "a", "new", "ECMAScript", "code", "execution", "context", "."]
}, {
  "tokens": ["Set", "the", "Function", "of", {
    "id": "moduleContext"
  }, "to", {
    "value": "null"
  }, "."]
}, {
  "tokens": ["Assert", ":", {
    "id": "module"
  }, ".", "[", "[", "Realm", "]", "]", "is", "not", {
    "value": "undefined"
  }, "."]
}, {
  "tokens": ["Set", "the", "Realm", "of", {
    "id": "moduleContext"
  }, "to", {
    "id": "module"
  }, ".", "[", "[", "Realm", "]", "]", "."]
}, {
  "tokens": ["Set", "the", "ScriptOrModule", "of", {
    "id": "moduleContext"
  }, "to", {
    "id": "module"
  }, "."]
}, {
  "tokens": ["Set", "the", "VariableEnvironment", "of", {
    "id": "moduleContext"
  }, "to", {
    "id": "module"
  }, ".", "[", "[", "Environment", "]", "]", "."]
}, {
  "tokens": ["Set", "the", "LexicalEnvironment", "of", {
    "id": "moduleContext"
  }, "to", {
    "id": "module"
  }, ".", "[", "[", "Environment", "]", "]", "."]
}, {
  "tokens": ["Set", {
    "id": "module"
  }, ".", "[", "[", "Context", "]", "]", "to", {
    "id": "moduleContext"
  }, "."]
}, {
  "tokens": ["Push", {
    "id": "moduleContext"
  }, "onto", "the", "execution", "context", "stack", ";", {
    "id": "moduleContext"
  }, "is", "now", "the", "running", "execution", "context", "."]
}, {
  "tokens": ["Let", {
    "id": "code"
  }, "be", {
    "id": "module"
  }, ".", "[", "[", "ECMAScriptCode", "]", "]", "."]
}, {
  "tokens": ["Let", {
    "id": "varDeclarations"
  }, "be", "the", "VarScopedDeclarations", "of", {
    "id": "code"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "declaredVarNames"
  }, "be", "a", "new", "empty", "List", "."]
}, {
  "tokens": ["For", "each", "element", {
    "id": "d"
  }, "in", {
    "id": "varDeclarations"
  }, ",", "do"]
}, {
  "tokens": ["For", "each", "element", {
    "id": "dn"
  }, "of", "the", "BoundNames", "of", {
    "id": "d"
  }, ",", "do"]
}, {
  "tokens": ["If", {
    "id": "dn"
  }, "is", "not", "an", "element", "of", {
    "id": "declaredVarNames"
  }, ",", "then"]
}, {
  "tokens": ["Perform", "!", {
    "id": "envRec"
  }, ".", "CreateMutableBinding", "(", {
    "id": "dn"
  }, ",", {
    "value": "false"
  }, ")", "."]
}, {
  "tokens": ["Call", {
    "id": "envRec"
  }, ".", "InitializeBinding", "(", {
    "id": "dn"
  }, ",", {
    "value": "undefined"
  }, ")", "."]
}, {
  "tokens": ["Append", {
    "id": "dn"
  }, "to", {
    "id": "declaredVarNames"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "lexDeclarations"
  }, "be", "the", "LexicallyScopedDeclarations", "of", {
    "id": "code"
  }, "."]
}, {
  "tokens": ["For", "each", "element", {
    "id": "d"
  }, "in", {
    "id": "lexDeclarations"
  }, ",", "do"]
}, {
  "tokens": ["For", "each", "element", {
    "id": "dn"
  }, "of", "the", "BoundNames", "of", {
    "id": "d"
  }, ",", "do"]
}, {
  "tokens": ["If", "IsConstantDeclaration", "of", {
    "id": "d"
  }, "is", {
    "value": "true"
  }, ",", "then"]
}, {
  "tokens": ["Perform", "!", {
    "id": "envRec"
  }, ".", "CreateImmutableBinding", "(", {
    "id": "dn"
  }, ",", {
    "value": "true"
  }, ")", "."]
}, {
  "tokens": ["Else", ","]
}, {
  "tokens": ["Perform", "!", {
    "id": "envRec"
  }, ".", "CreateMutableBinding", "(", {
    "id": "dn"
  }, ",", {
    "value": "false"
  }, ")", "."]
}, {
  "tokens": ["If", {
    "id": "d"
  }, "is", "a", {
    "nt": "FunctionDeclaration"
  }, ",", "a", {
    "nt": "GeneratorDeclaration"
  }, ",", "an", {
    "nt": "AsyncFunctionDeclaration"
  }, ",", "or", "an", {
    "nt": "AsyncGeneratorDeclaration"
  }, ",", "then"]
}, {
  "tokens": ["Let", {
    "id": "fo"
  }, "be", "InstantiateFunctionObject", "of", {
    "id": "d"
  }, "with", "argument", {
    "id": "env"
  }, "."]
}, {
  "tokens": ["Call", {
    "id": "envRec"
  }, ".", "InitializeBinding", "(", {
    "id": "dn"
  }, ",", {
    "id": "fo"
  }, ")", "."]
}, {
  "tokens": ["Remove", {
    "id": "moduleContext"
  }, "from", "the", "execution", "context", "stack", "."]
}, {
  "tokens": ["Return", "NormalCompletion", "(", {
    "const": "empty"
  }, ")", "."]
}]