{"kind":"Builtin","params":[],"steps":[{"tokens":["Assert",":",{"id":"R"},"is","an","initialized","RegExp","instance","."]},{"tokens":["Assert",":","Type","(",{"id":"S"},")","is","String","."]},{"tokens":["Let",{"id":"length"},"be","the","number","of","code","units","in",{"id":"S"},"."]},{"tokens":["Let",{"id":"lastIndex"},"be","?","ToLength","(","?","Get","(",{"id":"R"},",",{"code":"\"lastIndex\""},")",")","."]},{"tokens":["Let",{"id":"flags"},"be",{"id":"R"},".","[","[","OriginalFlags","]","]","."]},{"tokens":["If",{"id":"flags"},"contains",{"code":"\"g\""},",","let",{"id":"global"},"be",{"value":"true"},",","else","let",{"id":"global"},"be",{"value":"false"},"."]},{"tokens":["If",{"id":"flags"},"contains",{"code":"\"y\""},",","let",{"id":"sticky"},"be",{"value":"true"},",","else","let",{"id":"sticky"},"be",{"value":"false"},"."]},{"tokens":["If",{"id":"global"},"is",{"value":"false"},"and",{"id":"sticky"},"is",{"value":"false"},",","set",{"id":"lastIndex"},"to","0","."]},{"tokens":["Let",{"id":"matcher"},"be",{"id":"R"},".","[","[","RegExpMatcher","]","]","."]},{"tokens":["If",{"id":"flags"},"contains",{"code":"\"u\""},",","let",{"id":"fullUnicode"},"be",{"value":"true"},",","else","let",{"id":"fullUnicode"},"be",{"value":"false"},"."]},{"tokens":["Let",{"id":"matchSucceeded"},"be",{"value":"false"},"."]},{"tokens":["Repeat",",","while",{"id":"matchSucceeded"},"is",{"value":"false"},{"steps":[{"tokens":["If",{"id":"lastIndex"},">",{"id":"length"},",","then",{"steps":[{"tokens":["If",{"id":"global"},"is",{"value":"true"},"or",{"id":"sticky"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Perform","?","Set","(",{"id":"R"},",",{"code":"\"lastIndex\""},",","0",",",{"value":"true"},")","."]}]}]},{"tokens":["Return",{"value":"null"},"."]}]}]},{"tokens":["Let",{"id":"r"},"be",{"id":"matcher"},"(",{"id":"S"},",",{"id":"lastIndex"},")","."]},{"tokens":["If",{"id":"r"},"is",{"const":"failure"},",","then",{"steps":[{"tokens":["If",{"id":"sticky"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Perform","?","Set","(",{"id":"R"},",",{"code":"\"lastIndex\""},",","0",",",{"value":"true"},")","."]},{"tokens":["Return",{"value":"null"},"."]}]}]},{"tokens":["Set",{"id":"lastIndex"},"to","AdvanceStringIndex","(",{"id":"S"},",",{"id":"lastIndex"},",",{"id":"fullUnicode"},")","."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Assert",":",{"id":"r"},"is","a","State","."]},{"tokens":["Set",{"id":"matchSucceeded"},"to",{"value":"true"},"."]}]}]}]}]},{"tokens":["Let",{"id":"e"},"be",{"id":"r"},"'","s",{"id":"endIndex"},"value","."]},{"tokens":["If",{"id":"fullUnicode"},"is",{"value":"true"},",","then",{"steps":[{"tokens":[{"id":"e"},"is","an","index","into","the",{"id":"Input"},"character","list",",","derived","from",{"id":"S"},",","matched","by",{"id":"matcher"},".","Let",{"id":"eUTF"},"be","the","smallest","index","into",{"id":"S"},"that","corresponds","to","the","character","at","element",{"id":"e"},"of",{"id":"Input"},".","If",{"id":"e"},"is","greater","than","or","equal","to","the","length","of",{"id":"Input"},",","then",{"id":"eUTF"},"is","the","number","of","code","units","in",{"id":"S"},"."]},{"tokens":["Set",{"id":"e"},"to",{"id":"eUTF"},"."]}]}]},{"tokens":["If",{"id":"global"},"is",{"value":"true"},"or",{"id":"sticky"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Perform","?","Set","(",{"id":"R"},",",{"code":"\"lastIndex\""},",",{"id":"e"},",",{"value":"true"},")","."]}]}]},{"tokens":["Let",{"id":"n"},"be","the","length","of",{"id":"r"},"'","s",{"id":"captures"},"List",".","(","This","is","the","same","value","as","21",".","2",".","2",".","1","'","s",{"id":"NcapturingParens"},".",")"]},{"tokens":["Let",{"id":"A"},"be","!","ArrayCreate","(",{"id":"n"},"+","1",")","."]},{"tokens":["Assert",":","The","value","of",{"id":"A"},"'","s",{"code":"\"length\""},"property","is",{"id":"n"},"+","1","."]},{"tokens":["Let",{"id":"matchIndex"},"be",{"id":"lastIndex"},"."]},{"tokens":["Perform","!","CreateDataProperty","(",{"id":"A"},",",{"code":"\"index\""},",",{"id":"matchIndex"},")","."]},{"tokens":["Perform","!","CreateDataProperty","(",{"id":"A"},",",{"code":"\"input\""},",",{"id":"S"},")","."]},{"tokens":["Let",{"id":"matchedSubstr"},"be","the","matched","substring","(","i",".","e",".","the","portion","of",{"id":"S"},"between","offset",{"id":"lastIndex"},"inclusive","and","offset",{"id":"e"},"exclusive",")","."]},{"tokens":["Perform","!","CreateDataProperty","(",{"id":"A"},",",{"code":"\"0\""},",",{"id":"matchedSubstr"},")","."]},{"tokens":["For","each","integer",{"id":"i"},"such","that",{"id":"i"},">","0","and",{"id":"i"},"â‰¤",{"id":"n"},",","do",{"steps":[{"tokens":["Let",{"id":"captureI"},"be",{"id":"i"},{"sup":{"tokens":["th"]}},"element","of",{"id":"r"},"'","s",{"id":"captures"},"List","."]},{"tokens":["If",{"id":"captureI"},"is",{"value":"undefined"},",","let",{"id":"capturedValue"},"be",{"value":"undefined"},"."]},{"tokens":["Else","if",{"id":"fullUnicode"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Assert",":",{"id":"captureI"},"is","a","List","of","code","points","."]},{"tokens":["Let",{"id":"capturedValue"},"be","a","String","value","whose","code","units","are","the","UTF16Encoding","of","the","code","points","of",{"id":"captureI"},"."]}]}]},{"tokens":["Else",{"id":"fullUnicode"},"is",{"value":"false"},",",{"steps":[{"tokens":["Assert",":",{"id":"captureI"},"is","a","List","of","code","units","."]},{"tokens":["Let",{"id":"capturedValue"},"be","a","String","consisting","of","the","code","units","of",{"id":"captureI"},"."]}]}]},{"tokens":["Perform","!","CreateDataProperty","(",{"id":"A"},",","!","ToString","(",{"id":"i"},")",",",{"id":"capturedValue"},")","."]}]}]},{"tokens":["Return",{"id":"A"},"."]}],"length":0,"filename":"es2000/algorithm/21.2.5.2.2RuntimeSemantics:RegExpBuiltinExec(R,S)0.json"}