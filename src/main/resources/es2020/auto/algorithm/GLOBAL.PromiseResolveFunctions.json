{"kind":"Method","params":["this","argumentsList","NewTarget"],"steps":[{"tokens":["Let",{"id":"resolution"},"be","GetArgument","(",{"id":"argumentsList"},",","0",")","."]},{"tokens":["Let",{"id":"F"},"be","the","active","function","object","."]},{"tokens":["Assert",":",{"id":"F"},"has","a","[","[","Promise","]","]","internal","slot","whose","value","is","an","Object","."]},{"tokens":["Let",{"id":"promise"},"be",{"id":"F"},".","[","[","Promise","]","]","."]},{"tokens":["Let",{"id":"alreadyResolved"},"be",{"id":"F"},".","[","[","AlreadyResolved","]","]","."]},{"tokens":["If",{"id":"alreadyResolved"},".","[","[","Value","]","]","is",{"value":"true"},",","return",{"value":"undefined"},"."]},{"tokens":["Set",{"id":"alreadyResolved"},".","[","[","Value","]","]","to",{"value":"true"},"."]},{"tokens":["If","SameValue","(",{"id":"resolution"},",",{"id":"promise"},")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Let",{"id":"selfResolutionError"},"be","a","newly","created",{"value":"TypeError"},"object","."]},{"tokens":["Return","RejectPromise","(",{"id":"promise"},",",{"id":"selfResolutionError"},")","."]}]}]},{"tokens":["If","Type","(",{"id":"resolution"},")","is","not","Object",",","then",{"steps":[{"tokens":["Return","FulfillPromise","(",{"id":"promise"},",",{"id":"resolution"},")","."]}]}]},{"tokens":["Let",{"id":"then"},"be","Get","(",{"id":"resolution"},",",{"code":"\"then\""},")","."]},{"tokens":["If",{"id":"then"},"is","an","abrupt","completion",",","then",{"steps":[{"tokens":["Return","RejectPromise","(",{"id":"promise"},",",{"id":"then"},".","[","[","Value","]","]",")","."]}]}]},{"tokens":["Let",{"id":"thenAction"},"be",{"id":"then"},".","[","[","Value","]","]","."]},{"tokens":["If","IsCallable","(",{"id":"thenAction"},")","is",{"value":"false"},",","then",{"steps":[{"tokens":["Return","FulfillPromise","(",{"id":"promise"},",",{"id":"resolution"},")","."]}]}]},{"tokens":["Perform","EnqueueJob","(",{"code":"\"PromiseJobs\""},",","PromiseResolveThenableJob",",","«",{"id":"promise"},",",{"id":"resolution"},",",{"id":"thenAction"},"»",")","."]},{"tokens":["Return",{"value":"undefined"},"."]}],"length":0,"filename":"es2020/algorithm/GLOBAL.PromiseResolveFunctions.json"}