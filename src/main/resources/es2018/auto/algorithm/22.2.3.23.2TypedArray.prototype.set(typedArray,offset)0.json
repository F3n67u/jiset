{"kind":"Builtin","params":[],"steps":[{"tokens":["Assert",":",{"id":"typedArray"},"has","a","[","[","TypedArrayName","]","]","internal","slot",".","If","it","does","not",",","the","definition","in","22",".","2",".","3",".","23",".","1","applies","."]},{"tokens":["Let",{"id":"target"},"be","the",{"value":"this"},"value","."]},{"tokens":["If","Type","(",{"id":"target"},")","is","not","Object",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["If",{"id":"target"},"does","not","have","a","[","[","TypedArrayName","]","]","internal","slot",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Assert",":",{"id":"target"},"has","a","[","[","ViewedArrayBuffer","]","]","internal","slot","."]},{"tokens":["Let",{"id":"targetOffset"},"be","?","ToInteger","(",{"id":"offset"},")","."]},{"tokens":["If",{"id":"targetOffset"},"<","0",",","throw","a",{"value":"RangeError"},"exception","."]},{"tokens":["Let",{"id":"targetBuffer"},"be",{"id":"target"},".","[","[","ViewedArrayBuffer","]","]","."]},{"tokens":["If","IsDetachedBuffer","(",{"id":"targetBuffer"},")","is",{"value":"true"},",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"targetLength"},"be",{"id":"target"},".","[","[","ArrayLength","]","]","."]},{"tokens":["Let",{"id":"srcBuffer"},"be",{"id":"typedArray"},".","[","[","ViewedArrayBuffer","]","]","."]},{"tokens":["If","IsDetachedBuffer","(",{"id":"srcBuffer"},")","is",{"value":"true"},",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"targetName"},"be","the","String","value","of",{"id":"target"},".","[","[","TypedArrayName","]","]","."]},{"tokens":["Let",{"id":"targetType"},"be","the","String","value","of","the","Element","Type","value","in","Table","56","for",{"id":"targetName"},"."]},{"tokens":["Let",{"id":"targetElementSize"},"be","the","Number","value","of","the","Element","Size","value","specified","in","Table","56","for",{"id":"targetName"},"."]},{"tokens":["Let",{"id":"targetByteOffset"},"be",{"id":"target"},".","[","[","ByteOffset","]","]","."]},{"tokens":["Let",{"id":"srcName"},"be","the","String","value","of",{"id":"typedArray"},".","[","[","TypedArrayName","]","]","."]},{"tokens":["Let",{"id":"srcType"},"be","the","String","value","of","the","Element","Type","value","in","Table","56","for",{"id":"srcName"},"."]},{"tokens":["Let",{"id":"srcElementSize"},"be","the","Number","value","of","the","Element","Size","value","specified","in","Table","56","for",{"id":"srcName"},"."]},{"tokens":["Let",{"id":"srcLength"},"be",{"id":"typedArray"},".","[","[","ArrayLength","]","]","."]},{"tokens":["Let",{"id":"srcByteOffset"},"be",{"id":"typedArray"},".","[","[","ByteOffset","]","]","."]},{"tokens":["If",{"id":"srcLength"},"+",{"id":"targetOffset"},">",{"id":"targetLength"},",","throw","a",{"value":"RangeError"},"exception","."]},{"tokens":["If","both","IsSharedArrayBuffer","(",{"id":"srcBuffer"},")","and","IsSharedArrayBuffer","(",{"id":"targetBuffer"},")","are",{"value":"true"},",","then",{"steps":[{"tokens":["If",{"id":"srcBuffer"},".","[","[","ArrayBufferData","]","]","and",{"id":"targetBuffer"},".","[","[","ArrayBufferData","]","]","are","the","same","Shared","Data","Block","values",",","let",{"id":"same"},"be",{"value":"true"},";","else","let",{"id":"same"},"be",{"value":"false"},"."]}]}]},{"tokens":["Else",",","let",{"id":"same"},"be","SameValue","(",{"id":"srcBuffer"},",",{"id":"targetBuffer"},")","."]},{"tokens":["If",{"id":"same"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Let",{"id":"srcByteLength"},"be",{"id":"typedArray"},".","[","[","ByteLength","]","]","."]},{"tokens":["Let",{"id":"srcBuffer"},"be","?","CloneArrayBuffer","(",{"id":"srcBuffer"},",",{"id":"srcByteOffset"},",",{"id":"srcByteLength"},",","%","ArrayBuffer","%",")","."]},{"tokens":["NOTE",":","%","ArrayBuffer","%","is","used","to","clone",{"id":"srcBuffer"},"because","is","it","known","to","not","have","any","observable","side","-","effects","."]},{"tokens":["Let",{"id":"srcByteIndex"},"be","0","."]}]}]},{"tokens":["Else",",","let",{"id":"srcByteIndex"},"be",{"id":"srcByteOffset"},"."]},{"tokens":["Let",{"id":"targetByteIndex"},"be",{"id":"targetOffset"},"×",{"id":"targetElementSize"},"+",{"id":"targetByteOffset"},"."]},{"tokens":["Let",{"id":"limit"},"be",{"id":"targetByteIndex"},"+",{"id":"targetElementSize"},"×",{"id":"srcLength"},"."]},{"tokens":["If","SameValue","(",{"id":"srcType"},",",{"id":"targetType"},")","is",{"value":"true"},",","then",{"steps":[{"tokens":["NOTE",":","If",{"id":"srcType"},"and",{"id":"targetType"},"are","the","same",",","the","transfer","must","be","performed","in","a","manner","that","preserves","the","bit","-","level","encoding","of","the","source","data","."]},{"tokens":["Repeat",",","while",{"id":"targetByteIndex"},"<",{"id":"limit"},{"steps":[{"tokens":["Let",{"id":"value"},"be","GetValueFromBuffer","(",{"id":"srcBuffer"},",",{"id":"srcByteIndex"},",",{"code":"\"Uint8\""},",",{"value":"true"},",",{"code":"\"Unordered\""},")","."]},{"tokens":["Perform","SetValueInBuffer","(",{"id":"targetBuffer"},",",{"id":"targetByteIndex"},",",{"code":"\"Uint8\""},",",{"id":"value"},",",{"value":"true"},",",{"code":"\"Unordered\""},")","."]},{"tokens":["Set",{"id":"srcByteIndex"},"to",{"id":"srcByteIndex"},"+","1","."]},{"tokens":["Set",{"id":"targetByteIndex"},"to",{"id":"targetByteIndex"},"+","1","."]}]}]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Repeat",",","while",{"id":"targetByteIndex"},"<",{"id":"limit"},{"steps":[{"tokens":["Let",{"id":"value"},"be","GetValueFromBuffer","(",{"id":"srcBuffer"},",",{"id":"srcByteIndex"},",",{"id":"srcType"},",",{"value":"true"},",",{"code":"\"Unordered\""},")","."]},{"tokens":["Perform","SetValueInBuffer","(",{"id":"targetBuffer"},",",{"id":"targetByteIndex"},",",{"id":"targetType"},",",{"id":"value"},",",{"value":"true"},",",{"code":"\"Unordered\""},")","."]},{"tokens":["Set",{"id":"srcByteIndex"},"to",{"id":"srcByteIndex"},"+",{"id":"srcElementSize"},"."]},{"tokens":["Set",{"id":"targetByteIndex"},"to",{"id":"targetByteIndex"},"+",{"id":"targetElementSize"},"."]}]}]}]}]},{"tokens":["Return",{"value":"undefined"},"."]}],"length":0,"filename":"es2000/algorithm/22.2.3.23.2TypedArray.prototype.set(typedArray,offset)0.json"}