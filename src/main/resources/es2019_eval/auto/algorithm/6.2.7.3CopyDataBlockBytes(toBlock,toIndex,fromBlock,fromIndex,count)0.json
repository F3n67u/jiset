{"kind":"Method","lang":true,"params":[],"steps":[{"tokens":["Assert",":",{"id":"fromBlock"},"and",{"id":"toBlock"},"are","distinct","Data","Block","or","Shared","Data","Block","values","."]},{"tokens":["Assert",":",{"id":"fromIndex"},",",{"id":"toIndex"},",","and",{"id":"count"},"are","integer","values","≥","0","."]},{"tokens":["Let",{"id":"fromSize"},"be","the","number","of","bytes","in",{"id":"fromBlock"},"."]},{"tokens":["Assert",":",{"id":"fromIndex"},"+",{"id":"count"},"≤",{"id":"fromSize"},"."]},{"tokens":["Let",{"id":"toSize"},"be","the","number","of","bytes","in",{"id":"toBlock"},"."]},{"tokens":["Assert",":",{"id":"toIndex"},"+",{"id":"count"},"≤",{"id":"toSize"},"."]},{"tokens":["Repeat",",","while",{"id":"count"},">","0",{"steps":[{"tokens":["If",{"id":"fromBlock"},"is","a","Shared","Data","Block",",","then",{"steps":[{"tokens":["Let",{"id":"execution"},"be","the","[","[","CandidateExecution","]","]","field","of","the","surrounding","agent","'","s","Agent","Record","."]},{"tokens":["Let",{"id":"eventList"},"be","the","[","[","EventList","]","]","field","of","the","element","in",{"id":"execution"},".","[","[","EventsRecords","]","]","whose","[","[","AgentSignifier","]","]","is","AgentSignifier","(",")","."]},{"tokens":["Let",{"id":"bytes"},"be","a","List","of","length","1","that","contains","a","nondeterministically","chosen","byte","value","."]},{"tokens":["NOTE",":","In","implementations",",",{"id":"bytes"},"is","the","result","of","a","non","-","atomic","read","instruction","on","the","underlying","hardware",".","The","nondeterminism","is","a","semantic","prescription","of","the","memory","model","to","describe","observable","behaviour","of","hardware","with","weak","consistency","."]},{"tokens":["Let",{"id":"readEvent"},"be","ReadSharedMemory","{","[","[","Order","]","]",":",{"code":"\"Unordered\""},",","[","[","NoTear","]","]",":",{"value":"true"},",","[","[","Block","]","]",":",{"id":"fromBlock"},",","[","[","ByteIndex","]","]",":",{"id":"fromIndex"},",","[","[","ElementSize","]","]",":","1","}","."]},{"tokens":["Append",{"id":"readEvent"},"to",{"id":"eventList"},"."]},{"tokens":["Append","Chosen","Value","Record","{","[","[","Event","]","]",":",{"id":"readEvent"},",","[","[","ChosenValue","]","]",":",{"id":"bytes"},"}","to",{"id":"execution"},".","[","[","ChosenValues","]","]","."]},{"tokens":["If",{"id":"toBlock"},"is","a","Shared","Data","Block",",","then",{"steps":[{"tokens":["Append","WriteSharedMemory","{","[","[","Order","]","]",":",{"code":"\"Unordered\""},",","[","[","NoTear","]","]",":",{"value":"true"},",","[","[","Block","]","]",":",{"id":"toBlock"},",","[","[","ByteIndex","]","]",":",{"id":"toIndex"},",","[","[","ElementSize","]","]",":","1",",","[","[","Payload","]","]",":",{"id":"bytes"},"}","to",{"id":"eventList"},"."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Set",{"id":"toBlock"},"[",{"id":"toIndex"},"]","to",{"id":"bytes"},"[","0","]","."]}]}]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Assert",":",{"id":"toBlock"},"is","not","a","Shared","Data","Block","."]},{"tokens":["Set",{"id":"toBlock"},"[",{"id":"toIndex"},"]","to",{"id":"fromBlock"},"[",{"id":"fromIndex"},"]","."]}]}]},{"tokens":["Increment",{"id":"toIndex"},"and",{"id":"fromIndex"},"each","by","1","."]},{"tokens":["Decrement",{"id":"count"},"by","1","."]}]}]},{"tokens":["Return","NormalCompletion","(",{"const":"empty"},")","."]}],"length":0,"filename":"es2000/algorithm/6.2.7.3CopyDataBlockBytes(toBlock,toIndex,fromBlock,fromIndex,count)0.json"}