{"kind":"Builtin","params":[],"steps":[{"tokens":["Let",{"id":"O"},"be","the",{"value":"this"},"value","."]},{"tokens":["If","Type","(",{"id":"O"},")","is","not","Object",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["If",{"id":"O"},"does","not","have","all","of","the","internal","slots","of","a","String","Iterator","Instance","(","21",".","1",".","5",".","3",")",",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"s"},"be",{"id":"O"},".","[","[","IteratedString","]","]","."]},{"tokens":["If",{"id":"s"},"is",{"value":"undefined"},",","return","CreateIterResultObject","(",{"value":"undefined"},",",{"value":"true"},")","."]},{"tokens":["Let",{"id":"position"},"be",{"id":"O"},".","[","[","StringIteratorNextIndex","]","]","."]},{"tokens":["Let",{"id":"len"},"be","the","length","of",{"id":"s"},"."]},{"tokens":["If",{"id":"position"},"â‰¥",{"id":"len"},",","then",{"steps":[{"tokens":["Set",{"id":"O"},".","[","[","IteratedString","]","]","to",{"value":"undefined"},"."]},{"tokens":["Return","CreateIterResultObject","(",{"value":"undefined"},",",{"value":"true"},")","."]}]}]},{"tokens":["Let",{"id":"first"},"be","the","numeric","value","of","the","code","unit","at","index",{"id":"position"},"within",{"id":"s"},"."]},{"tokens":["If",{"id":"first"},"<","0xD800","or",{"id":"first"},">","0xDBFF","or",{"id":"position"},"+","1","=",{"id":"len"},",","let",{"id":"resultString"},"be","the","String","value","consisting","of","the","single","code","unit",{"id":"first"},"."]},{"tokens":["Else",",",{"steps":[{"tokens":["Let",{"id":"second"},"be","the","numeric","value","of","the","code","unit","at","index",{"id":"position"},"+","1","within","the","String",{"id":"S"},"."]},{"tokens":["If",{"id":"second"},"<","0xDC00","or",{"id":"second"},">","0xDFFF",",","let",{"id":"resultString"},"be","the","String","value","consisting","of","the","single","code","unit",{"id":"first"},"."]},{"tokens":["Else",",","let",{"id":"resultString"},"be","the","string","-","concatenation","of","the","code","unit",{"id":"first"},"and","the","code","unit",{"id":"second"},"."]}]}]},{"tokens":["Let",{"id":"resultSize"},"be","the","number","of","code","units","in",{"id":"resultString"},"."]},{"tokens":["Set",{"id":"O"},".","[","[","StringIteratorNextIndex","]","]","to",{"id":"position"},"+",{"id":"resultSize"},"."]},{"tokens":["Return","CreateIterResultObject","(",{"id":"resultString"},",",{"value":"false"},")","."]}],"length":0,"filename":"es2000/algorithm/21.1.5.2.1StringIteratorPrototype.next()0.json"}