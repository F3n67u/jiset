{"kind":"Method","lang":true,"params":[],"steps":[{"tokens":["Let",{"id":"module"},"be","this","Source","Text","Module","Record","."]},{"tokens":["For","each","Record","{","[","[","Module","]","]",",","[","[","ExportName","]","]","}",{"id":"r"},"in",{"id":"resolveSet"},",","do",":",{"steps":[{"tokens":["If",{"id":"module"},"and",{"id":"r"},".","[","[","Module","]","]","are","the","same","Module","Record","and","SameValue","(",{"id":"exportName"},",",{"id":"r"},".","[","[","ExportName","]","]",")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Assert",":","this","is","a","circular","import","request","."]},{"tokens":["Return",{"value":"null"},"."]}]}]}]}]},{"tokens":["Append","the","Record","{","[","[","Module","]","]",":",{"id":"module"},",","[","[","ExportName","]","]",":",{"id":"exportName"},"}","to",{"id":"resolveSet"},"."]},{"tokens":["For","each","ExportEntry","Record",{"id":"e"},"in",{"id":"module"},".","[","[","LocalExportEntries","]","]",",","do",{"steps":[{"tokens":["If","SameValue","(",{"id":"exportName"},",",{"id":"e"},".","[","[","ExportName","]","]",")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Assert",":",{"id":"module"},"provides","the","direct","binding","for","this","export","."]},{"tokens":["Return","Record","{","[","[","Module","]","]",":",{"id":"module"},",","[","[","BindingName","]","]",":",{"id":"e"},".","[","[","LocalName","]","]","}","."]}]}]}]}]},{"tokens":["For","each","ExportEntry","Record",{"id":"e"},"in",{"id":"module"},".","[","[","IndirectExportEntries","]","]",",","do",{"steps":[{"tokens":["If","SameValue","(",{"id":"exportName"},",",{"id":"e"},".","[","[","ExportName","]","]",")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Assert",":",{"id":"module"},"imports","a","specific","binding","for","this","export","."]},{"tokens":["Let",{"id":"importedModule"},"be","?","HostResolveImportedModule","(",{"id":"module"},",",{"id":"e"},".","[","[","ModuleRequest","]","]",")","."]},{"tokens":["Let",{"id":"indirectResolution"},"be","?",{"id":"importedModule"},".","ResolveExport","(",{"id":"e"},".","[","[","ImportName","]","]",",",{"id":"resolveSet"},",",{"id":"exportStarSet"},")","."]},{"tokens":["If",{"id":"indirectResolution"},"is","not",{"value":"null"},",","return",{"id":"indirectResolution"},"."]}]}]}]}]},{"tokens":["If","SameValue","(",{"id":"exportName"},",",{"code":"\"default\""},")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Assert",":","A",{"code":"default"},"export","was","not","explicitly","defined","by","this","module","."]},{"tokens":["Throw","a",{"value":"SyntaxError"},"exception","."]},{"tokens":["NOTE","A",{"code":"default"},"export","cannot","be","provided","by","an",{"code":"export *"},"."]}]}]},{"tokens":["If",{"id":"exportStarSet"},"contains",{"id":"module"},",","return",{"value":"null"},"."]},{"tokens":["Append",{"id":"module"},"to",{"id":"exportStarSet"},"."]},{"tokens":["Let",{"id":"starResolution"},"be",{"value":"null"},"."]},{"tokens":["For","each","ExportEntry","Record",{"id":"e"},"in",{"id":"module"},".","[","[","StarExportEntries","]","]",",","do",{"steps":[{"tokens":["Let",{"id":"importedModule"},"be","?","HostResolveImportedModule","(",{"id":"module"},",",{"id":"e"},".","[","[","ModuleRequest","]","]",")","."]},{"tokens":["Let",{"id":"resolution"},"be","?",{"id":"importedModule"},".","ResolveExport","(",{"id":"exportName"},",",{"id":"resolveSet"},",",{"id":"exportStarSet"},")","."]},{"tokens":["If",{"id":"resolution"},"is",{"code":"\"ambiguous\""},",","return",{"code":"\"ambiguous\""},"."]},{"tokens":["If",{"id":"resolution"},"is","not",{"value":"null"},",","then",{"steps":[{"tokens":["If",{"id":"starResolution"},"is",{"value":"null"},",","let",{"id":"starResolution"},"be",{"id":"resolution"},"."]},{"tokens":["Else",",",{"steps":[{"tokens":["Assert",":","there","is","more","than","one",{"code":"*"},"import","that","includes","the","requested","name","."]},{"tokens":["If",{"id":"resolution"},".","[","[","Module","]","]","and",{"id":"starResolution"},".","[","[","Module","]","]","are","not","the","same","Module","Record","or","SameValue","(",{"id":"resolution"},".","[","[","BindingName","]","]",",",{"id":"starResolution"},".","[","[","BindingName","]","]",")","is",{"value":"false"},",","return",{"code":"\"ambiguous\""},"."]}]}]}]}]}]}]},{"tokens":["Return",{"id":"starResolution"},"."]}],"length":0,"filename":"es2000/algorithm/15.2.1.16.3ResolveExport(exportName,resolveSet,exportStarSet)ConcreteMethod0.json"}