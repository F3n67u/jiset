{"kind":"Builtin","params":[],"steps":[{"tokens":["Let",{"id":"stack"},"be","a","new","empty","List","."]},{"tokens":["Let",{"id":"indent"},"be","the","empty","String","."]},{"tokens":["Let",{"id":"PropertyList"},"and",{"id":"ReplacerFunction"},"be",{"value":"undefined"},"."]},{"tokens":["If","Type","(",{"id":"replacer"},")","is","Object",",","then",{"steps":[{"tokens":["If","IsCallable","(",{"id":"replacer"},")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Set",{"id":"ReplacerFunction"},"to",{"id":"replacer"},"."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Let",{"id":"isArray"},"be","?","IsArray","(",{"id":"replacer"},")","."]},{"tokens":["If",{"id":"isArray"},"is",{"value":"true"},",","then",{"steps":[{"tokens":["Set",{"id":"PropertyList"},"to","a","new","empty","List","."]},{"tokens":["Let",{"id":"len"},"be","?","ToLength","(","?","Get","(",{"id":"replacer"},",",{"code":"\"length\""},")",")","."]},{"tokens":["Let",{"id":"k"},"be","0","."]},{"tokens":["Repeat",",","while",{"id":"k"},"<",{"id":"len"},",",{"steps":[{"tokens":["Let",{"id":"v"},"be","?","Get","(",{"id":"replacer"},",","!","ToString","(",{"id":"k"},")",")","."]},{"tokens":["Let",{"id":"item"},"be",{"value":"undefined"},"."]},{"tokens":["If","Type","(",{"id":"v"},")","is","String",",","set",{"id":"item"},"to",{"id":"v"},"."]},{"tokens":["Else","if","Type","(",{"id":"v"},")","is","Number",",","set",{"id":"item"},"to","!","ToString","(",{"id":"v"},")","."]},{"tokens":["Else","if","Type","(",{"id":"v"},")","is","Object",",","then",{"steps":[{"tokens":["If",{"id":"v"},"has","a","[","[","StringData","]","]","or","[","[","NumberData","]","]","internal","slot",",","set",{"id":"item"},"to","?","ToString","(",{"id":"v"},")","."]}]}]},{"tokens":["If",{"id":"item"},"is","not",{"value":"undefined"},"and",{"id":"item"},"is","not","currently","an","element","of",{"id":"PropertyList"},",","then",{"steps":[{"tokens":["Append",{"id":"item"},"to","the","end","of",{"id":"PropertyList"},"."]}]}]},{"tokens":["Increase",{"id":"k"},"by","1","."]}]}]}]}]}]}]}]}]},{"tokens":["If","Type","(",{"id":"space"},")","is","Object",",","then",{"steps":[{"tokens":["If",{"id":"space"},"has","a","[","[","NumberData","]","]","internal","slot",",","then",{"steps":[{"tokens":["Set",{"id":"space"},"to","?","ToNumber","(",{"id":"space"},")","."]}]}]},{"tokens":["Else","if",{"id":"space"},"has","a","[","[","StringData","]","]","internal","slot",",","then",{"steps":[{"tokens":["Set",{"id":"space"},"to","?","ToString","(",{"id":"space"},")","."]}]}]}]}]},{"tokens":["If","Type","(",{"id":"space"},")","is","Number",",","then",{"steps":[{"tokens":["Set",{"id":"space"},"to","min","(","10",",","!","ToInteger","(",{"id":"space"},")",")","."]},{"tokens":["Let",{"id":"gap"},"be","the","String","value","containing",{"id":"space"},"occurrences","of","the","code","unit","0x0020","(","SPACE",")",".","This","will","be","the","empty","String","if",{"id":"space"},"is","less","than","1","."]}]}]},{"tokens":["Else","if","Type","(",{"id":"space"},")","is","String",",","then",{"steps":[{"tokens":["If","the","length","of",{"id":"space"},"is","10","or","less",",","let",{"id":"gap"},"be",{"id":"space"},";","otherwise","let",{"id":"gap"},"be","the","String","value","consisting","of","the","first","10","code","units","of",{"id":"space"},"."]}]}]},{"tokens":["Else",",",{"steps":[{"tokens":["Let",{"id":"gap"},"be","the","empty","String","."]}]}]},{"tokens":["Let",{"id":"wrapper"},"be","ObjectCreate","(","%","ObjectPrototype","%",")","."]},{"tokens":["Let",{"id":"status"},"be","CreateDataProperty","(",{"id":"wrapper"},",","the","empty","String",",",{"id":"value"},")","."]},{"tokens":["Assert",":",{"id":"status"},"is",{"value":"true"},"."]},{"tokens":["Return","?","SerializeJSONProperty","(","the","empty","String",",",{"id":"wrapper"},")","."]}],"length":0,"filename":"es2000/algorithm/24.5.2JSON.stringify(value,replacer,space)0.json"}