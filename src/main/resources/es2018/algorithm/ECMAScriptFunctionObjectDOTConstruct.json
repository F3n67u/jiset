{"kind":"Method","params":["O","argumentsList","newTarget"],"steps":[{"tokens":["Assert",":",{"id":"F"},"is","an","ECMAScript","function","object","."]},{"tokens":["Assert",":","Type","(",{"id":"newTarget"},")","is","Object","."]},{"tokens":["Let",{"id":"callerContext"},"be","the","running","execution","context","."]},{"tokens":["Let",{"id":"kind"},"be",{"id":"F"},".","[","[","ConstructorKind","]","]","."]},{"tokens":["If",{"id":"kind"},"is",{"value":"\"base\""},",","then",{"steps":[{"tokens":["Let",{"id":"thisArgument"},"be","?","OrdinaryCreateFromConstructor","(",{"id":"newTarget"},",",{"value":"\"%ObjectPrototype%\""},")","."]}]}]},{"tokens":["Let",{"id":"calleeContext"},"be","PrepareForOrdinaryCall","(",{"id":"F"},",",{"id":"newTarget"},")","."]},{"tokens":["Assert",":",{"id":"calleeContext"},"is","now","the","running","execution","context","."]},{"tokens":["If",{"id":"kind"},"is",{"value":"\"base\""},",","perform","OrdinaryCallBindThis","(",{"id":"F"},",",{"id":"calleeContext"},",",{"id":"thisArgument"},")","."]},{"tokens":["Let",{"id":"constructorEnv"},"be","the","LexicalEnvironment","of",{"id":"calleeContext"},"."]},{"tokens":["Let",{"id":"envRec"},"be",{"id":"constructorEnv"},"'","s","EnvironmentRecord","."]},{"tokens":["Let",{"id":"result"},"be","OrdinaryCallEvaluateBody","(",{"id":"F"},",",{"id":"argumentsList"},")","."]},{"tokens":["Remove",{"id":"calleeContext"},"from","the","execution","context","stack","and","restore",{"id":"callerContext"},"as","the","running","execution","context","."]},{"tokens":["If",{"id":"result"},".","[","[","Type","]","]","is",{"value":"return"},",","then",{"steps":[{"tokens":["If","Type","(",{"id":"result"},".","[","[","Value","]","]",")","is","Object",",","return","NormalCompletion","(",{"id":"result"},".","[","[","Value","]","]",")","."]},{"tokens":["If",{"id":"kind"},"is",{"value":"\"base\""},",","return","NormalCompletion","(",{"id":"thisArgument"},")","."]},{"tokens":["If",{"id":"result"},".","[","[","Value","]","]","is","not",{"value":"undefined"},",","throw","a",{"value":"TypeError"},"exception","."]}]}]},{"tokens":["Else",",","ReturnIfAbrupt","(",{"id":"result"},")","."]},{"tokens":["Return","?",{"id":"envRec"},".","GetThisBinding","(",")","."]}],"filename":"es2018/algorithm/ECMAScriptFunctionObjectDOTConstruct.json"}