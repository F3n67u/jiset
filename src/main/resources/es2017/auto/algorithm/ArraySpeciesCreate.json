{"kind":"Method","params":["originalArray","length"],"steps":[{"tokens":["Assert",":",{"id":"length"},"is","an","integer","Number","≥","0","."]},{"tokens":["If",{"id":"length"},"is",{"value":"-0"},",","set",{"id":"length"},"to",{"value":"+0"},"."]},{"tokens":["Let",{"id":"isArray"},"be","?","IsArray","(",{"id":"originalArray"},")","."]},{"tokens":["If",{"id":"isArray"},"is",{"value":"false"},",","return","?","ArrayCreate","(",{"id":"length"},")","."]},{"tokens":["Let",{"id":"C"},"be","?","Get","(",{"id":"originalArray"},",",{"code":"\"constructor\""},")","."]},{"tokens":["If","IsConstructor","(",{"id":"C"},")","is",{"value":"true"},",","then",{"steps":[{"tokens":["Let",{"id":"thisRealm"},"be","the","current","Realm","Record","."]},{"tokens":["Let",{"id":"realmC"},"be","?","GetFunctionRealm","(",{"id":"C"},")","."]},{"tokens":["If",{"id":"thisRealm"},"and",{"id":"realmC"},"are","not","the","same","Realm","Record",",","then",{"steps":[{"tokens":["If","SameValue","(",{"id":"C"},",",{"id":"realmC"},".","[","[","Intrinsics","]","]",".","[","[","%","Array","%","]","]",")","is",{"value":"true"},",","set",{"id":"C"},"to",{"value":"undefined"},"."]}]}]}]}]},{"tokens":["If","Type","(",{"id":"C"},")","is","Object",",","then",{"steps":[{"tokens":["Set",{"id":"C"},"to","?","Get","(",{"id":"C"},",","@","@","species",")","."]},{"tokens":["If",{"id":"C"},"is",{"value":"null"},",","set",{"id":"C"},"to",{"value":"undefined"},"."]}]}]},{"tokens":["If",{"id":"C"},"is",{"value":"undefined"},",","return","?","ArrayCreate","(",{"id":"length"},")","."]},{"tokens":["If","IsConstructor","(",{"id":"C"},")","is",{"value":"false"},",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Return","?","Construct","(",{"id":"C"},",","«",{"id":"length"},"»",")","."]}],"length":2,"filename":"es2000/algorithm/ArraySpeciesCreate.json"}