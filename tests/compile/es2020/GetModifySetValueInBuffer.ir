{
  [0] app __x0__ = (IsSharedArrayBuffer arrayBuffer)
  [0] assert (= __x0__ true)
  [2] app __x1__ = (IsNonNegativeInteger byteIndex)
  [2] if (is-completion __x1__) if (= __x1__.Type CONST_normal) __x1__ = __x1__.Value else return __x1__ else [11] {}
  [2] assert (= __x1__ true)
  [4] let block = arrayBuffer.ArrayBufferData
  [5] ??? "Let id:{elementSize} be the Element Size value specified in link:{} for Element Type id:{type} ."
  [6] if (= isLittleEndian absent) isLittleEndian = GLOBAL_agent.LittleEndian else [11] {}
  [7] app __x2__ = (NumericToRawBytes type value isLittleEndian)
  [7] let rawBytes = __x2__
  [8] let execution = GLOBAL_agent.CandidateExecution
  [9] ??? "Let id:{eventList} be the [ [ EventList ] ] field of the element in id:{execution} . [ [ EventsRecords ] ] whose [ [ AgentSignifier ] ] is AgentSignifier ( ) ."
  [10] ??? "Let id:{rawBytesRead} be a List of length id:{elementSize} of nondeterministically chosen byte values ."
  [12] ??? "Let id:{rmwEvent} be ReadModifyWriteSharedMemory { [ [ Order ] ] : const:{SeqCst} , [ [ NoTear ] ] : value:{true} , [ [ Block ] ] : id:{block} , [ [ ByteIndex ] ] : id:{byteIndex} , [ [ ElementSize ] ] : id:{elementSize} , [ [ Payload ] ] : id:{rawBytes} , [ [ ModifyOp ] ] : id:{op} } ."
  [13] append rmwEvent -> eventList
  [14] append (new ChosenValueRecord("Event" -> rmwEvent, "ChosenValue" -> rawBytesRead)) -> execution.ChosenValues
  [15] app __x3__ = (RawBytesToNumeric type rawBytesRead isLittleEndian)
  [15] app __x4__ = (WrapCompletion __x3__)
  [15] return __x4__
}