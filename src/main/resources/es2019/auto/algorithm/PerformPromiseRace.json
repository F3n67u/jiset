{"kind":"RuntimeSemantics","lang":false,"params":["iteratorRecord","constructor","resultCapability"],"steps":[{"tokens":["Assert",":","IsConstructor","(",{"id":"constructor"},")","is",{"value":"true"},"."]},{"tokens":["Assert",":",{"id":"resultCapability"},"is","a","PromiseCapability","Record","."]},{"tokens":["Repeat",",",{"steps":[{"tokens":["Let",{"id":"next"},"be","IteratorStep","(",{"id":"iteratorRecord"},")","."]},{"tokens":["If",{"id":"next"},"is","an","abrupt","completion",",","set",{"id":"iteratorRecord"},".","[","[","Done","]","]","to",{"value":"true"},"."]},{"tokens":["ReturnIfAbrupt","(",{"id":"next"},")","."]},{"tokens":["If",{"id":"next"},"is",{"value":"false"},",","then",{"steps":[{"tokens":["Set",{"id":"iteratorRecord"},".","[","[","Done","]","]","to",{"value":"true"},"."]},{"tokens":["Return",{"id":"resultCapability"},".","[","[","Promise","]","]","."]}]}]},{"tokens":["Let",{"id":"nextValue"},"be","IteratorValue","(",{"id":"next"},")","."]},{"tokens":["If",{"id":"nextValue"},"is","an","abrupt","completion",",","set",{"id":"iteratorRecord"},".","[","[","Done","]","]","to",{"value":"true"},"."]},{"tokens":["ReturnIfAbrupt","(",{"id":"nextValue"},")","."]},{"tokens":["Let",{"id":"nextPromise"},"be","?","Invoke","(",{"id":"constructor"},",",{"code":"\"resolve\""},",","«",{"id":"nextValue"},"»",")","."]},{"tokens":["Perform","?","Invoke","(",{"id":"nextPromise"},",",{"code":"\"then\""},",","«",{"id":"resultCapability"},".","[","[","Resolve","]","]",",",{"id":"resultCapability"},".","[","[","Reject","]","]","»",")","."]}]}]}],"length":3,"filename":"es2019/algorithm/PerformPromiseRace.json"}