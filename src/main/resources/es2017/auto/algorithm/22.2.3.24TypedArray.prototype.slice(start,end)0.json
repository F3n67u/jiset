{"kind":"Builtin","params":[],"steps":[{"tokens":["Let",{"id":"O"},"be","the",{"value":"this"},"value","."]},{"tokens":["Perform","?","ValidateTypedArray","(",{"id":"O"},")","."]},{"tokens":["Let",{"id":"len"},"be",{"id":"O"},".","[","[","ArrayLength","]","]","."]},{"tokens":["Let",{"id":"relativeStart"},"be","?","ToInteger","(",{"id":"start"},")","."]},{"tokens":["If",{"id":"relativeStart"},"<","0",",","let",{"id":"k"},"be","max","(","(",{"id":"len"},"+",{"id":"relativeStart"},")",",","0",")",";","else","let",{"id":"k"},"be","min","(",{"id":"relativeStart"},",",{"id":"len"},")","."]},{"tokens":["If",{"id":"end"},"is",{"value":"undefined"},",","let",{"id":"relativeEnd"},"be",{"id":"len"},";","else","let",{"id":"relativeEnd"},"be","?","ToInteger","(",{"id":"end"},")","."]},{"tokens":["If",{"id":"relativeEnd"},"<","0",",","let",{"id":"final"},"be","max","(","(",{"id":"len"},"+",{"id":"relativeEnd"},")",",","0",")",";","else","let",{"id":"final"},"be","min","(",{"id":"relativeEnd"},",",{"id":"len"},")","."]},{"tokens":["Let",{"id":"count"},"be","max","(",{"id":"final"},"-",{"id":"k"},",","0",")","."]},{"tokens":["Let",{"id":"A"},"be","?","TypedArraySpeciesCreate","(",{"id":"O"},",","«",{"id":"count"},"»",")","."]},{"tokens":["Let",{"id":"srcName"},"be","the","String","value","of",{"id":"O"},".","[","[","TypedArrayName","]","]","."]},{"tokens":["Let",{"id":"srcType"},"be","the","String","value","of","the","Element","Type","value","in","Table","50","for",{"id":"srcName"},"."]},{"tokens":["Let",{"id":"targetName"},"be","the","String","value","of",{"id":"A"},".","[","[","TypedArrayName","]","]","."]},{"tokens":["Let",{"id":"targetType"},"be","the","String","value","of","the","Element","Type","value","in","Table","50","for",{"id":"targetName"},"."]},{"tokens":["If","SameValue","(",{"id":"srcType"},",",{"id":"targetType"},")","is",{"value":"false"},",","then",{"steps":[{"tokens":["Let",{"id":"n"},"be","0","."]},{"tokens":["Repeat",",","while",{"id":"k"},"<",{"id":"final"},{"steps":[{"tokens":["Let",{"id":"Pk"},"be","!","ToString","(",{"id":"k"},")","."]},{"tokens":["Let",{"id":"kValue"},"be","?","Get","(",{"id":"O"},",",{"id":"Pk"},")","."]},{"tokens":["Perform","!","Set","(",{"id":"A"},",","!","ToString","(",{"id":"n"},")",",",{"id":"kValue"},")","."]},{"tokens":["Increase",{"id":"k"},"by","1","."]},{"tokens":["Increase",{"id":"n"},"by","1","."]}]}]}]}]},{"tokens":["Else","if",{"id":"count"},">","0",",","then",{"steps":[{"tokens":["Let",{"id":"srcBuffer"},"be",{"id":"O"},".","[","[","ViewedArrayBuffer","]","]","."]},{"tokens":["If","IsDetachedBuffer","(",{"id":"srcBuffer"},")","is",{"value":"true"},",","throw","a",{"value":"TypeError"},"exception","."]},{"tokens":["Let",{"id":"targetBuffer"},"be",{"id":"A"},".","[","[","ViewedArrayBuffer","]","]","."]},{"tokens":["Let",{"id":"elementSize"},"be","the","Number","value","of","the","Element","Size","value","specified","in","Table","50","for",{"id":"srcType"},"."]},{"tokens":["NOTE",":","If",{"id":"srcType"},"and",{"id":"targetType"},"are","the","same",",","the","transfer","must","be","performed","in","a","manner","that","preserves","the","bit","-","level","encoding","of","the","source","data","."]},{"tokens":["Let",{"id":"srcByteOffet"},"be",{"id":"O"},".","[","[","ByteOffset","]","]","."]},{"tokens":["Let",{"id":"targetByteIndex"},"be",{"id":"A"},".","[","[","ByteOffset","]","]","."]},{"tokens":["Let",{"id":"srcByteIndex"},"be","(",{"id":"k"},"×",{"id":"elementSize"},")","+",{"id":"srcByteOffet"},"."]},{"tokens":["Let",{"id":"limit"},"be",{"id":"targetByteIndex"},"+",{"id":"count"},"×",{"id":"elementSize"},"."]},{"tokens":["Repeat",",","while",{"id":"targetByteIndex"},"<",{"id":"limit"},{"steps":[{"tokens":["Let",{"id":"value"},"be","GetValueFromBuffer","(",{"id":"srcBuffer"},",",{"id":"srcByteIndex"},",",{"code":"\"Uint8\""},",",{"value":"true"},",",{"code":"\"Unordered\""},")","."]},{"tokens":["Perform","SetValueInBuffer","(",{"id":"targetBuffer"},",",{"id":"targetByteIndex"},",",{"code":"\"Uint8\""},",",{"id":"value"},",",{"value":"true"},",",{"code":"\"Unordered\""},")","."]},{"tokens":["Increase",{"id":"srcByteIndex"},"by","1","."]},{"tokens":["Increase",{"id":"targetByteIndex"},"by","1","."]}]}]}]}]},{"tokens":["Return",{"id":"A"},"."]}],"length":0,"filename":"es2000/algorithm/22.2.3.24TypedArray.prototype.slice(start,end)0.json"}