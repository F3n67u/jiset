{"kind":"StaticSemantics","params":["string","position"],"steps":[{"tokens":["Let",{"id":"size"},"be","the","length","of",{"id":"string"},"."]},{"tokens":["Assert",":",{"id":"position"},"â‰¥","0","and",{"id":"position"},"<",{"id":"size"},"."]},{"tokens":["Let",{"id":"first"},"be","the","code","unit","at","index",{"id":"position"},"within",{"id":"string"},"."]},{"tokens":["Let",{"id":"cp"},"be","the","code","point","whose","numeric","value","is","that","of",{"id":"first"},"."]},{"tokens":["If",{"id":"first"},"is","not","a","leading","surrogate","or","trailing","surrogate",",","then",{"steps":[{"tokens":["Return","the","Record","{","[","[","CodePoint","]","]",":",{"id":"cp"},",","[","[","CodeUnitCount","]","]",":","1",",","[","[","IsUnpairedSurrogate","]","]",":",{"value":"false"},"}","."]}]}]},{"tokens":["If",{"id":"first"},"is","a","trailing","surrogate","or",{"id":"position"},"+","1","=",{"id":"size"},",","then",{"steps":[{"tokens":["Return","the","Record","{","[","[","CodePoint","]","]",":",{"id":"cp"},",","[","[","CodeUnitCount","]","]",":","1",",","[","[","IsUnpairedSurrogate","]","]",":",{"value":"true"},"}","."]}]}]},{"tokens":["Let",{"id":"second"},"be","the","code","unit","at","index",{"id":"position"},"+","1","within",{"id":"string"},"."]},{"tokens":["If",{"id":"second"},"is","not","a","trailing","surrogate",",","then",{"steps":[{"tokens":["Return","the","Record","{","[","[","CodePoint","]","]",":",{"id":"cp"},",","[","[","CodeUnitCount","]","]",":","1",",","[","[","IsUnpairedSurrogate","]","]",":",{"value":"true"},"}","."]}]}]},{"tokens":["Set",{"id":"cp"},"to","!","UTF16Decode","(",{"id":"first"},",",{"id":"second"},")","."]},{"tokens":["Return","the","Record","{","[","[","CodePoint","]","]",":",{"id":"cp"},",","[","[","CodeUnitCount","]","]",":","2",",","[","[","IsUnpairedSurrogate","]","]",":",{"value":"false"},"}","."]}],"length":2,"filename":"es2020/algorithm/CodePointAt.json"}