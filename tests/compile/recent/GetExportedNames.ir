{
  [0] if (= exportStarSet absent) exportStarSet = (new []) else [11] {}
  [2] if (contains exportStarSet module) {
    [4] app __x0__ = (WrapCompletion (new []))
    [4] return __x0__
  } else [11] {}
  [5] append module -> exportStarSet
  [6] let exportedNames = (new [])
  [7] let __x1__ = module.LocalExportEntries
  [7] let __x2__ = 0i
  [7] while (< __x2__ __x1__.length) {
    let e = __x1__[__x2__]
    [9] append e.ExportName -> exportedNames
    __x2__ = (+ __x2__ 1i)
  }
  [10] let __x3__ = module.IndirectExportEntries
  [10] let __x4__ = 0i
  [10] while (< __x4__ __x3__.length) {
    let e = __x3__[__x4__]
    [12] append e.ExportName -> exportedNames
    __x4__ = (+ __x4__ 1i)
  }
  [13] let __x5__ = module.StarExportEntries
  [13] let __x6__ = 0i
  [13] while (< __x6__ __x5__.length) {
    let e = __x5__[__x6__]
    [14] app __x7__ = (HostResolveImportedModule module e.ModuleRequest)
    [14] if (is-completion __x7__) if (= __x7__.Type CONST_normal) __x7__ = __x7__.Value else return __x7__ else [11] {}
    [14] let requestedModule = __x7__
    [15] app __x8__ = (requestedModule.GetExportedNames requestedModule exportStarSet)
    [15] if (is-completion __x8__) if (= __x8__.Type CONST_normal) __x8__ = __x8__.Value else return __x8__ else [11] {}
    [15] let starNames = __x8__
    [16] let __x9__ = starNames
    [16] let __x10__ = 0i
    [16] while (< __x10__ __x9__.length) {
      let n = __x9__[__x10__]
      [17] app __x11__ = (SameValue n "default")
      [17] if (= __x11__ false) if (! (contains exportedNames n)) append n -> exportedNames else [11] {} else [11] {}
      __x10__ = (+ __x10__ 1i)
    }
    __x6__ = (+ __x6__ 1i)
  }
  [20] app __x12__ = (WrapCompletion exportedNames)
  [20] return __x12__
}