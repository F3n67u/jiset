{"kind":"Method","lang":false,"params":[],"steps":[{"tokens":["Let",{"id":"x"},"be","?","thisNumberValue","(",{"value":"this"},"value",")","."]},{"tokens":["If",{"id":"precision"},"is",{"value":"undefined"},",","return","!","ToString","(",{"id":"x"},")","."]},{"tokens":["Let",{"id":"p"},"be","?","ToInteger","(",{"id":"precision"},")","."]},{"tokens":["If",{"id":"x"},"is",{"value":"NaN"},",","return","the","String",{"code":"\"NaN\""},"."]},{"tokens":["Let",{"id":"s"},"be","the","empty","String","."]},{"tokens":["If",{"id":"x"},"<","0",",","then",{"steps":[{"tokens":["Let",{"id":"s"},"be","code","unit","0x002D","(","HYPHEN","-","MINUS",")","."]},{"tokens":["Let",{"id":"x"},"be","-",{"id":"x"},"."]}]}]},{"tokens":["If",{"id":"x"},"=",{"value":"+∞"},",","then",{"steps":[{"tokens":["Return","the","String","that","is","the","concatenation","of",{"id":"s"},"and",{"code":"\"Infinity\""},"."]}]}]},{"tokens":["If",{"id":"p"},"<","1","or",{"id":"p"},">","21",",","throw","a",{"value":"RangeError"},"exception",".","However",",","an","implementation","is","permitted","to","extend","the","behaviour","of",{"code":"toPrecision"},"for","values","of",{"id":"p"},"less","than","1","or","greater","than","21",".","In","this","case",{"code":"toPrecision"},"would","not","necessarily","throw",{"value":"RangeError"},"for","such","values","."]},{"tokens":["If",{"id":"x"},"=","0",",","then",{"steps":[{"tokens":["Let",{"id":"m"},"be","the","String","consisting","of",{"id":"p"},"occurrences","of","the","code","unit","0x0030","(","DIGIT","ZERO",")","."]},{"tokens":["Let",{"id":"e"},"be","0","."]}]}]},{"tokens":["Else",{"id":"x"},"≠","0",",",{"steps":[{"tokens":["Let",{"id":"e"},"and",{"id":"n"},"be","integers","such","that","10",{"sup":{"tokens":[{"id":"p"},"-","1"]}},"≤",{"id":"n"},"<","10",{"sup":{"tokens":[{"id":"p"}]}},"and","for","which","the","exact","mathematical","value","of",{"id":"n"},"×","10",{"sup":{"tokens":[{"id":"e"},"-",{"id":"p"},"+","1"]}},"-",{"id":"x"},"is","as","close","to","zero","as","possible",".","If","there","are","two","such","sets","of",{"id":"e"},"and",{"id":"n"},",","pick","the",{"id":"e"},"and",{"id":"n"},"for","which",{"id":"n"},"×","10",{"sup":{"tokens":[{"id":"e"},"-",{"id":"p"},"+","1"]}},"is","larger","."]},{"tokens":["Let",{"id":"m"},"be","the","String","consisting","of","the","digits","of","the","decimal","representation","of",{"id":"n"},"(","in","order",",","with","no","leading","zeroes",")","."]},{"tokens":["If",{"id":"e"},"<","-","6","or",{"id":"e"},"≥",{"id":"p"},",","then",{"steps":[{"tokens":["Assert",":",{"id":"e"},"≠","0","."]},{"tokens":["If",{"id":"p"},"≠","1",",","then",{"steps":[{"tokens":["Let",{"id":"a"},"be","the","first","element","of",{"id":"m"},",","and","let",{"id":"b"},"be","the","remaining",{"id":"p"},"-","1","elements","of",{"id":"m"},"."]},{"tokens":["Let",{"id":"m"},"be","the","concatenation","of",{"id":"a"},",",{"code":"\".\""},",","and",{"id":"b"},"."]}]}]},{"tokens":["If",{"id":"e"},">","0",",","then",{"steps":[{"tokens":["Let",{"id":"c"},"be","code","unit","0x002B","(","PLUS","SIGN",")","."]}]}]},{"tokens":["Else",{"id":"e"},"<","0",",",{"steps":[{"tokens":["Let",{"id":"c"},"be","code","unit","0x002D","(","HYPHEN","-","MINUS",")","."]},{"tokens":["Let",{"id":"e"},"be","-",{"id":"e"},"."]}]}]},{"tokens":["Let",{"id":"d"},"be","the","String","consisting","of","the","digits","of","the","decimal","representation","of",{"id":"e"},"(","in","order",",","with","no","leading","zeroes",")","."]},{"tokens":["Return","the","concatenation","of",{"id":"s"},",",{"id":"m"},",","code","unit","0x0065","(","LATIN","SMALL","LETTER","E",")",",",{"id":"c"},",","and",{"id":"d"},"."]}]}]}]}]},{"tokens":["If",{"id":"e"},"=",{"id":"p"},"-","1",",","return","the","concatenation","of","the","Strings",{"id":"s"},"and",{"id":"m"},"."]},{"tokens":["If",{"id":"e"},"≥","0",",","then",{"steps":[{"tokens":["Let",{"id":"m"},"be","the","concatenation","of","the","first",{"id":"e"},"+","1","elements","of",{"id":"m"},",","the","code","unit","0x002E","(","FULL","STOP",")",",","and","the","remaining",{"id":"p"},"-","(",{"id":"e"},"+","1",")","elements","of",{"id":"m"},"."]}]}]},{"tokens":["Else",{"id":"e"},"<","0",",",{"steps":[{"tokens":["Let",{"id":"m"},"be","the","String","formed","by","the","concatenation","of","code","unit","0x0030","(","DIGIT","ZERO",")",",","code","unit","0x002E","(","FULL","STOP",")",",","-","(",{"id":"e"},"+","1",")","occurrences","of","code","unit","0x0030","(","DIGIT","ZERO",")",",","and","the","String",{"id":"m"},"."]}]}]},{"tokens":["Return","the","String","that","is","the","concatenation","of",{"id":"s"},"and",{"id":"m"},"."]}],"length":0,"filename":"es2000/algorithm/20.1.3.5Number.prototype.toPrecision(precision)0.json"}