[{
  "tokens": ["Assert", ":", {
    "id": "R"
  }, "is", "an", "initialized", "RegExp", "instance", "."]
}, {
  "tokens": ["Assert", ":", "Type", "(", {
    "id": "S"
  }, ")", "is", "String", "."]
}, {
  "tokens": ["Let", {
    "id": "length"
  }, "be", "the", "number", "of", "code", "units", "in", {
    "id": "S"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "lastIndex"
  }, "be", "?", "ToLength", "(", "?", "Get", "(", {
    "id": "R"
  }, ",", {
    "value": "\"lastIndex\""
  }, ")", ")", "."]
}, {
  "tokens": ["Let", {
    "id": "flags"
  }, "be", {
    "id": "R"
  }, ".", "[", "[", "OriginalFlags", "]", "]", "."]
}, {
  "tokens": ["If", {
    "id": "flags"
  }, "contains", {
    "value": "\"g\""
  }, ",", "let", {
    "id": "global"
  }, "be", {
    "value": "true"
  }, ";", "else", "let", {
    "id": "global"
  }, "be", {
    "value": "false"
  }, "."]
}, {
  "tokens": ["If", {
    "id": "flags"
  }, "contains", {
    "value": "\"y\""
  }, ",", "let", {
    "id": "sticky"
  }, "be", {
    "value": "true"
  }, ";", "else", "let", {
    "id": "sticky"
  }, "be", {
    "value": "false"
  }, "."]
}, {
  "tokens": ["If", {
    "id": "global"
  }, "is", {
    "value": "false"
  }, "and", {
    "id": "sticky"
  }, "is", {
    "value": "false"
  }, ",", "set", {
    "id": "lastIndex"
  }, "to", "0", "."]
}, {
  "tokens": ["Let", {
    "id": "matcher"
  }, "be", {
    "id": "R"
  }, ".", "[", "[", "RegExpMatcher", "]", "]", "."]
}, {
  "tokens": ["If", {
    "id": "flags"
  }, "contains", {
    "value": "\"u\""
  }, ",", "let", {
    "id": "fullUnicode"
  }, "be", {
    "value": "true"
  }, ";", "else", "let", {
    "id": "fullUnicode"
  }, "be", {
    "value": "false"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "matchSucceeded"
  }, "be", {
    "value": "false"
  }, "."]
}, {
  "tokens": ["Repeat", ",", "while", {
    "id": "matchSucceeded"
  }, "is", {
    "value": "false"
  }]
}, {
  "tokens": ["If", {
    "id": "lastIndex"
  }, ">", {
    "id": "length"
  }, ",", "then"]
}, {
  "tokens": ["If", {
    "id": "global"
  }, "is", {
    "value": "true"
  }, "or", {
    "id": "sticky"
  }, "is", {
    "value": "true"
  }, ",", "then"]
}, {
  "tokens": ["Perform", "?", "Set", "(", {
    "id": "R"
  }, ",", {
    "value": "\"lastIndex\""
  }, ",", "0", ",", {
    "value": "true"
  }, ")", "."]
}, {
  "tokens": ["Return", {
    "value": "null"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "r"
  }, "be", {
    "id": "matcher"
  }, "(", {
    "id": "S"
  }, ",", {
    "id": "lastIndex"
  }, ")", "."]
}, {
  "tokens": ["If", {
    "id": "r"
  }, "is", {
    "const": "failure"
  }, ",", "then"]
}, {
  "tokens": ["If", {
    "id": "sticky"
  }, "is", {
    "value": "true"
  }, ",", "then"]
}, {
  "tokens": ["Perform", "?", "Set", "(", {
    "id": "R"
  }, ",", {
    "value": "\"lastIndex\""
  }, ",", "0", ",", {
    "value": "true"
  }, ")", "."]
}, {
  "tokens": ["Return", {
    "value": "null"
  }, "."]
}, {
  "tokens": ["Set", {
    "id": "lastIndex"
  }, "to", "AdvanceStringIndex", "(", {
    "id": "S"
  }, ",", {
    "id": "lastIndex"
  }, ",", {
    "id": "fullUnicode"
  }, ")", "."]
}, {
  "tokens": ["Else", ","]
}, {
  "tokens": ["Assert", ":", {
    "id": "r"
  }, "is", "a", "State", "."]
}, {
  "tokens": ["Set", {
    "id": "matchSucceeded"
  }, "to", {
    "value": "true"
  }, "."]
}, {
  "tokens": ["Let", {
    "id": "e"
  }, "be", {
    "id": "r"
  }, "'", "s", {
    "id": "endIndex"
  }, "value", "."]
}, {
  "tokens": ["If", {
    "id": "fullUnicode"
  }, "is", {
    "value": "true"
  }, ",", "then"]
}, {
  "tokens": [{
    "id": "e"
  }, "is", "an", "index", "into", "the", {
    "id": "Input"
  }, "character", "list", ",", "derived", "from", {
    "id": "S"
  }, ",", "matched", "by", {
    "id": "matcher"
  }, ".", "Let", {
    "id": "eUTF"
  }, "be", "the", "smallest", "index", "into", {
    "id": "S"
  }, "that", "corresponds", "to", "the", "character", "at", "element", {
    "id": "e"
  }, "of", {
    "id": "Input"
  }, ".", "If", {
    "id": "e"
  }, "is", "greater", "than", "or", "equal", "to", "the", "number", "of", "elements", "in", {
    "id": "Input"
  }, ",", "then", {
    "id": "eUTF"
  }, "is", "the", "number", "of", "code", "units", "in", {
    "id": "S"
  }, "."]
}, {
  "tokens": ["Set", {
    "id": "e"
  }, "to", {
    "id": "eUTF"
  }, "."]
}, {
  "tokens": ["If", {
    "id": "global"
  }, "is", {
    "value": "true"
  }, "or", {
    "id": "sticky"
  }, "is", {
    "value": "true"
  }, ",", "then"]
}, {
  "tokens": ["Perform", "?", "Set", "(", {
    "id": "R"
  }, ",", {
    "value": "\"lastIndex\""
  }, ",", {
    "id": "e"
  }, ",", {
    "value": "true"
  }, ")", "."]
}, {
  "tokens": ["Let", {
    "id": "n"
  }, "be", "the", "number", "of", "elements", "in", {
    "id": "r"
  }, "'", "s", {
    "id": "captures"
  }, "List", ".", "(", "This", "is", "the", "same", "value", "as", {
    "link": ""
  }, "'", "s", {
    "id": "NcapturingParens"
  }, ".", ")"]
}, {
  "tokens": ["Assert", ":", {
    "id": "n"
  }, "<", "2", {
    "sup": {
      "tokens": ["32"]
    }
  }, "-", "1", "."]
}, {
  "tokens": ["Let", {
    "id": "A"
  }, "be", "!", "ArrayCreate", "(", {
    "id": "n"
  }, "+", "1", ")", "."]
}, {
  "tokens": ["Assert", ":", "The", "value", "of", {
    "id": "A"
  }, "'", "s", {
    "value": "\"length\""
  }, "property", "is", {
    "id": "n"
  }, "+", "1", "."]
}, {
  "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
    "id": "A"
  }, ",", {
    "value": "\"index\""
  }, ",", {
    "id": "lastIndex"
  }, ")", "."]
}, {
  "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
    "id": "A"
  }, ",", {
    "value": "\"input\""
  }, ",", {
    "id": "S"
  }, ")", "."]
}, {
  "tokens": ["Let", {
    "id": "matchedSubstr"
  }, "be", "the", "matched", "substring", "(", "i", ".", "e", ".", "the", "portion", "of", {
    "id": "S"
  }, "between", "offset", {
    "id": "lastIndex"
  }, "inclusive", "and", "offset", {
    "id": "e"
  }, "exclusive", ")", "."]
}, {
  "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
    "id": "A"
  }, ",", {
    "value": "\"0\""
  }, ",", {
    "id": "matchedSubstr"
  }, ")", "."]
}, {
  "tokens": ["If", {
    "id": "R"
  }, "contains", "any", {
    "nt": "GroupName"
  }, ",", "then"]
}, {
  "tokens": ["Let", {
    "id": "groups"
  }, "be", "OrdinaryObjectCreate", "(", {
    "value": "null"
  }, ")", "."]
}, {
  "tokens": ["Else", ","]
}, {
  "tokens": ["Let", {
    "id": "groups"
  }, "be", {
    "value": "undefined"
  }, "."]
}, {
  "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
    "id": "A"
  }, ",", {
    "value": "\"groups\""
  }, ",", {
    "id": "groups"
  }, ")", "."]
}, {
  "tokens": ["For", "each", "integer", {
    "id": "i"
  }, "such", "that", {
    "id": "i"
  }, ">", "0", "and", {
    "id": "i"
  }, "â‰¤", {
    "id": "n"
  }, ",", "do"]
}, {
  "tokens": ["Let", {
    "id": "captureI"
  }, "be", {
    "id": "i"
  }, {
    "sup": {
      "tokens": ["th"]
    }
  }, "element", "of", {
    "id": "r"
  }, "'", "s", {
    "id": "captures"
  }, "List", "."]
}, {
  "tokens": ["If", {
    "id": "captureI"
  }, "is", {
    "value": "undefined"
  }, ",", "let", {
    "id": "capturedValue"
  }, "be", {
    "value": "undefined"
  }, "."]
}, {
  "tokens": ["Else", "if", {
    "id": "fullUnicode"
  }, "is", {
    "value": "true"
  }, ",", "then"]
}, {
  "tokens": ["Assert", ":", {
    "id": "captureI"
  }, "is", "a", "List", "of", "code", "points", "."]
}, {
  "tokens": ["Let", {
    "id": "capturedValue"
  }, "be", "!", "UTF16Encode", "(", {
    "id": "captureI"
  }, ")", "."]
}, {
  "tokens": ["Else", ","]
}, {
  "tokens": ["Assert", ":", {
    "id": "fullUnicode"
  }, "is", {
    "value": "false"
  }, "."]
}, {
  "tokens": ["Assert", ":", {
    "id": "captureI"
  }, "is", "a", "List", "of", "code", "units", "."]
}, {
  "tokens": ["Let", {
    "id": "capturedValue"
  }, "be", "the", "String", "value", "consisting", "of", "the", "code", "units", "of", {
    "id": "captureI"
  }, "."]
}, {
  "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
    "id": "A"
  }, ",", "!", "ToString", "(", {
    "id": "i"
  }, ")", ",", {
    "id": "capturedValue"
  }, ")", "."]
}, {
  "tokens": ["If", "the", {
    "id": "i"
  }, {
    "sup": {
      "tokens": ["th"]
    }
  }, "capture", "of", {
    "id": "R"
  }, "was", "defined", "with", "a", {
    "nt": "GroupName"
  }, ",", "then"]
}, {
  "tokens": ["Let", {
    "id": "s"
  }, "be", "the", "StringValue", "of", "the", "corresponding", {
    "nt": "RegExpIdentifierName"
  }, "."]
}, {
  "tokens": ["Perform", "!", "CreateDataPropertyOrThrow", "(", {
    "id": "groups"
  }, ",", {
    "id": "s"
  }, ",", {
    "id": "capturedValue"
  }, ")", "."]
}, {
  "tokens": ["Return", {
    "id": "A"
  }, "."]
}]