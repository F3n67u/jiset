\section{Syntax of \( \ires \)}\label{sec:syntax}

\[
  \begin{array}{lrclrll}
    \text{Programs} & \prset &\ni& \pr & ::= & \inst^+          & \text{}\\
    \\
    \text{Instructions} & \instset &\ni& \inst & ::= & \expr    & \text{(expressions)} \\
    &&&&\mid& \C{let}\ \id\ \C{=}\ \expr                        & \text{(let bindings)}\\
    &&&&\mid& \refer\ \C{:=}\ \expr                             & \text{(assignments)}\\
    &&&&\mid& \C{delete}\ \refer                                & \text{(deletions)}\\
    &&&&\mid& \C{append}\ \expr\ \leftarrow\ \expr              & \text{(append instructions)}\\
    &&&&\mid& \C{prepend}\ \expr\ \rightarrow\ \expr            & \text{(prepend instructions)}\\
    &&&&\mid& \C{return}\ \expr                                 & \text{(return instructions)}\\
    &&&&\mid& \C{if}\ \expr\ \inst\ \inst                       & \text{(branches)}\\
    &&&&\mid& \C{while}\ \expr\ \inst                           & \text{(loops)}\\
    &&&&\mid& \C{\{}\ \inst^*\ \C{\}}                           & \text{(sequences)}\\
    &&&&\mid& \C{assert}\ \expr                                 & \text{(assertions)}\\
    &&&&\mid& \C{print}\ \expr                                  & \text{(print instructions)}\\
    &&&&\mid& \C{call}\ \id\ \C{=}\ \expr \C{(} \expr^* \C{)}   & \text{(function calls)}\\
    &&&&\mid& \C{access}\ \id\ \C{=}\ \expr \C{[} \expr \C{]}   & \text{(field accesses)}\\
    &&&&\mid& \C{withcont}\ \id \C{(} \id^* \C{)}\ \C{=}\ \inst & \text{(continuation bindings)}\\
    \\
    \text{Expressions} & \exprset &\ni& \expr &
    ::= & \double \mid \intvalue \mid \str \mid \bool \mid
          \C{undefined} \mid \C{null} \mid \C{absent}           & \text{(primitives)}\\
    &&&&\mid& \C{new}\ \str\ \C{\{}[\expr \mapsto \expr]^*\C{\}}& \text{(maps)}\\
    &&&&\mid& \C{new}\ \C{[} \expr^* \C{]}                      & \text{(lists)}\\
    &&&&\mid& \C{new}\ \expr                                    & \text{(symbols)}\\
    &&&&\mid& \C{pop}\ \expr\ \expr                             & \text{(pop expressions)}\\
    &&&&\mid& \refer                                            & \text{(references)}\\
    &&&&\mid& \C{(} \id^* \C{)}\ \C{[=>]} \inst                 & \text{(continuations)}\\
    &&&&\mid& \uop\ \expr                                       & \text{(unary operations)}\\
    &&&&\mid& \expr \bop \expr                                  & \text{(binary operations)}\\
    &&&&\mid& \C{typeof}\ \expr                                 & \text{(typeof expressions)}\\
    &&&&\mid& \C{is-completion}\ \expr                          & \text{(completion checks)}\\
    &&&&\mid& \C{is-instance-of}\ \expr\ \str                   & \text{(instance checks)}\\
    &&&&\mid& \C{get-elems}\ \expr\ \str                        & \text{(element getters)}\\
    &&&&\mid& \C{get-syntax}\ \expr                             & \text{(syntax getters)}\\
    &&&&\mid& \C{parse-syntax}\ \expr\ \expr\ \expr^*           & \text{(parse expressions)}\\
    &&&&\mid& \C{convert}\ \expr\ \cop \expr^*                  & \text{(syntax conversion)}\\
    &&&&\mid& \C{contains}\ \expr\ \expr                        & \text{(contain checks)}\\
    &&&&\mid& \C{copy}\ \expr                                   & \text{(object copies)}\\
    &&&&\mid& \C{keys}\ \expr                                   & \text{(key collections)}\\
    &&&&\mid& \C{!!!}\ \expr                                    & \text{(not supported features)}\\
  \end{array}
\]

\[
  \begin{array}{lrclrll}
    \text{References} & \refset &\ni& \refer &
    ::= & \id                                                   & \text{(identifier references)}\\
    &&&&\mid& \refer \C{[} \expr \C{]}                          & \text{(field references)}\\
    \\
    \text{Unary Operators} &&& \uop &
    ::= & \C{-}                                                 & \text{(negations)}\\
    &&&&\mid& \C{!}                                             & \text{(logical NOT)}\\
    &&&&\mid& \C{\char`~}                                       & \text{(bitwise NOT)}\\
    \\
    \text{Binary Operators} &&& \bop &
    ::= & \C{+}                                                 & \text{(additions)}\\
    &&&&\mid& \C{-}                                             & \text{(subtractions)}\\
    &&&&\mid& \C{*}                                             & \text{(multiplications)}\\
    &&&&\mid& \C{**}                                            & \text{(exponentials)}\\
    &&&&\mid& \C{/}                                             & \text{(divisions)}\\
    &&&&\mid& \C{\%\%}                                          & \text{(unsigned modulos)}\\
    &&&&\mid& \C{\%}                                            & \text{(modulos)}\\
    &&&&\mid& \C{=}                                             & \text{(strong equalities)}\\
    &&&&\mid& \C{==}                                            & \text{(weak equalities)}\\
    &&&&\mid& \C{<}                                             & \text{(comparisons)}\\
    &&&&\mid& \C{\&\&}                                          & \text{(logical AND)}\\
    &&&&\mid& \C{||}                                            & \text{(logical OR)}\\
    &&&&\mid& \C{\char`^\char`^}                                & \text{(logical XOR)}\\
    &&&&\mid& \C{\&}                                            & \text{(bitwise AND)}\\
    &&&&\mid& \C{|}                                             & \text{(bitwise OR)}\\
    &&&&\mid& \C{\char`^}                                       & \text{(bitwise XOR)}\\
    &&&&\mid& \C{<}\C{<}                                        & \text{(left shifts)}\\
    &&&&\mid& \C{>}\C{>}                                        & \text{(signed right shifts)}\\
    &&&&\mid& \C{>}\C{>}\C{>}                                   & \text{(unsigned right shifts)}\\
    \\
    \text{Convert Operators} &&& \cop &
    ::= & \C{str2num}                                           & \text{(strings to numbers)}\\
    &&&&\mid& \C{num2str}                                       & \text{(numbers to strings)}\\
    &&&&\mid& \C{num2int}                                       & \text{(numbers to integers)}\\
  \end{array}
\]

where

\[
  \begin{array}{r@{~}c@{~}ll}
    \double   &\in& \doubleset  & \text{double-precision 64-bit binary format
                                        IEEE 754-2008 values}\\
    \intvalue &\in& \intset     & \text{mathematical integers}\\
    \str      &\in& \strset     & \text{strings}\\
    \bool     &\in& \boolset    & \text{booleans}\\
    \id       &\in& \idset      & \text{identifiers}\\
  \end{array}
\]

\newpage
