{"kind":"Builtin","params":[],"steps":[{"tokens":["Assert",":","IsSharedArrayBuffer","(",{"id":"arrayBuffer"},")","is",{"value":"true"},"."]},{"tokens":["Assert",":","There","are","sufficient","bytes","in",{"id":"arrayBuffer"},"starting","at",{"id":"byteIndex"},"to","represent","a","value","of",{"id":"type"},"."]},{"tokens":["Assert",":",{"id":"byteIndex"},"is","an","integer","value","â‰¥","0","."]},{"tokens":["Assert",":","Type","(",{"id":"value"},")","is","Number","."]},{"tokens":["Let",{"id":"block"},"be",{"id":"arrayBuffer"},".","[","[","ArrayBufferData","]","]","."]},{"tokens":["Let",{"id":"elementSize"},"be","the","Number","value","of","the","Element","Size","value","specified","in","Table","50","for","Element","Type",{"id":"type"},"."]},{"tokens":["If",{"id":"isLittleEndian"},"is","not","present",",","set",{"id":"isLittleEndian"},"to","the","value","of","the","[","[","LittleEndian","]","]","field","of","the","surrounding","agent","'","s","Agent","Record","."]},{"tokens":["Let",{"id":"rawBytes"},"be","NumberToRawBytes","(",{"id":"type"},",",{"id":"value"},",",{"id":"isLittleEndian"},")","."]},{"tokens":["Let",{"id":"execution"},"be","the","[","[","CandidateExecution","]","]","field","of","the","surrounding","agent","'","s","Agent","Record","."]},{"tokens":["Let",{"id":"eventList"},"be","the","[","[","EventList","]","]","field","of","the","element","in",{"id":"execution"},".","[","[","EventLists","]","]","whose","[","[","AgentSignifier","]","]","is","AgentSignifier","(",")","."]},{"tokens":["Let",{"id":"rawBytesRead"},"be","a","List","of","length",{"id":"elementSize"},"of","nondeterministically","chosen","byte","values","."]},{"tokens":["NOTE",":","In","implementations",",",{"id":"rawBytesRead"},"is","the","result","of","a","load","-","link",",","of","a","load","-","exclusive",",","or","of","an","operand","of","a","read","-","modify","-","write","instruction","on","the","underlying","hardware",".","The","nondeterminism","is","a","semantic","prescription","of","the","memory","model","to","describe","observable","behaviour","of","hardware","with","weak","consistency","."]},{"tokens":["Let",{"id":"rmwEvent"},"be","ReadModifyWriteSharedMemory","{","[","[","Order","]","]",":",{"code":"\"SeqCst\""},",","[","[","NoTear","]","]",":",{"value":"true"},",","[","[","Block","]","]",":",{"id":"block"},",","[","[","ByteIndex","]","]",":",{"id":"byteIndex"},",","[","[","ElementSize","]","]",":",{"id":"elementSize"},",","[","[","Payload","]","]",":",{"id":"rawBytes"},",","[","[","ModifyOp","]","]",":",{"id":"op"},"}","."]},{"tokens":["Append",{"id":"rmwEvent"},"to",{"id":"eventList"},"."]},{"tokens":["Append","Chosen","Value","Record","{","[","[","Event","]","]",":",{"id":"rmwEvent"},",","[","[","ChosenValue","]","]",":",{"id":"rawBytesRead"},"}","to",{"id":"execution"},".","[","[","ChosenValues","]","]","."]},{"tokens":["Return","RawBytesToNumber","(",{"id":"type"},",",{"id":"rawBytesRead"},",",{"id":"isLittleEndian"},")","."]}],"length":0,"filename":"es2000/algorithm/24.1.1.9GetModifySetValueInBuffer(arrayBuffer,byteIndex,type,value,op,isLittleEndian)0.json"}